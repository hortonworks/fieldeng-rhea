<?xml version="1.0" ?>
<template encoding-version="1.1">
  <description></description>
  <groupId>70683073-015d-1000-69bd-30c6d1c6e4cd</groupId>
  <name>cronus_orchestrator_v0.21</name>
  <snippet>
    <connections>
      <id>88227305-08f3-3c2f-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
      <backPressureObjectThreshold>10000</backPressureObjectThreshold>
      <destination>
        <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
        <id>ecdc57f6-aa20-3a55-0000-000000000000</id>
        <type>INPUT_PORT</type>
      </destination>
      <flowFileExpiration>0 sec</flowFileExpiration>
      <labelIndex>1</labelIndex>
      <name></name>
      <selectedRelationships>success</selectedRelationships>
      <source>
        <groupId>f1d25f9a-0bcf-30a7-0000-000000000000</groupId>
        <id>0898f894-8850-3df7-0000-000000000000</id>
        <type>PROCESSOR</type>
      </source>
      <zIndex>0</zIndex>
    </connections>
    <connections>
      <id>a0c5f902-f7ba-32e0-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
      <backPressureObjectThreshold>10000</backPressureObjectThreshold>
      <destination>
        <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
        <id>41157ca7-c6e8-36b7-0000-000000000000</id>
        <type>INPUT_PORT</type>
      </destination>
      <flowFileExpiration>0 sec</flowFileExpiration>
      <labelIndex>1</labelIndex>
      <name></name>
      <source>
        <groupId>f1d25f9a-0bcf-30a7-0000-000000000000</groupId>
        <id>e1ebd33f-8377-3ba0-0000-000000000000</id>
        <type>INPUT_PORT</type>
      </source>
      <zIndex>0</zIndex>
    </connections>
    <connections>
      <id>637150d3-49e2-346a-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
      <backPressureObjectThreshold>10000</backPressureObjectThreshold>
      <destination>
        <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
        <id>ecdc57f6-aa20-3a55-0000-000000000000</id>
        <type>INPUT_PORT</type>
      </destination>
      <flowFileExpiration>0 sec</flowFileExpiration>
      <labelIndex>1</labelIndex>
      <name></name>
      <source>
        <groupId>f1d25f9a-0bcf-30a7-0000-000000000000</groupId>
        <id>70c25515-78e2-3e1a-0000-000000000000</id>
        <type>INPUT_PORT</type>
      </source>
      <zIndex>0</zIndex>
    </connections>
    <controllerServices>
      <id>93fe3fb1-1a5b-3681-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <bundle>
        <artifact>nifi-druid-bundle-nar</artifact>
        <group>default</group>
        <version>unversioned</version>
      </bundle>
      <comments></comments>
      <descriptors>
        <entry>
          <key>data_source</key>
          <value>
            <name>data_source</name>
          </value>
        </entry>
        <entry>
          <key>zk_connect_string</key>
          <value>
            <name>zk_connect_string</name>
          </value>
        </entry>
        <entry>
          <key>index_service_path</key>
          <value>
            <name>index_service_path</name>
          </value>
        </entry>
        <entry>
          <key>discovery_path</key>
          <value>
            <name>discovery_path</name>
          </value>
        </entry>
        <entry>
          <key>dimensions_list</key>
          <value>
            <name>dimensions_list</name>
          </value>
        </entry>
        <entry>
          <key>aggregators_descriptor</key>
          <value>
            <name>aggregators_descriptor</name>
          </value>
        </entry>
        <entry>
          <key>segment_granularity</key>
          <value>
            <name>segment_granularity</name>
          </value>
        </entry>
        <entry>
          <key>query_granularity</key>
          <value>
            <name>query_granularity</name>
          </value>
        </entry>
        <entry>
          <key>window_period</key>
          <value>
            <name>window_period</name>
          </value>
        </entry>
        <entry>
          <key>timestamp_field</key>
          <value>
            <name>timestamp_field</name>
          </value>
        </entry>
      </descriptors>
      <name>DruidTranquilityControllerRawIngest</name>
      <persistsState>false</persistsState>
      <properties>
        <entry>
          <key>data_source</key>
          <value>historian_raw</value>
        </entry>
        <entry>
          <key>zk_connect_string</key>
          <value>ip-172-31-74-106.ec2.internal:2181</value>
        </entry>
        <entry>
          <key>index_service_path</key>
          <value>druid/overlord</value>
        </entry>
        <entry>
          <key>discovery_path</key>
          <value>/druid/discovery</value>
        </entry>
        <entry>
          <key>dimensions_list</key>
          <value>function,value</value>
        </entry>
        <entry>
          <key>aggregators_descriptor</key>
          <value>[
            {
              "type" : "count",
              "name" : "count"
            },
            {
              "name" : "value_sum",
              "type" : "doubleSum",
              "fieldName" : "value"
            },
            {
              "fieldName" : "value",
              "name" : "value_min",
              "type" : "doubleMin"
            },
            {
              "type" : "doubleMax",
              "name" : "value_max",
              "fieldName" : "value"
            }
          ]</value>
        </entry>
        <entry>
          <key>segment_granularity</key>
          <value>TEN_MINUTE</value>
        </entry>
        <entry>
          <key>query_granularity</key>
          <value>NONE</value>
        </entry>
        <entry>
          <key>window_period</key>
          <value>PT1M</value>
        </entry>
        <entry>
          <key>timestamp_field</key>
          <value>timestamp</value>
        </entry>
      </properties>
      <state>ENABLED</state>
      <type>com.hortonworks.nifi.controller.DruidTranquilityController</type>
    </controllerServices>
    <controllerServices>
      <id>dac4b18d-e04d-3edf-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <bundle>
        <artifact>nifi-druid-bundle-nar</artifact>
        <group>default</group>
        <version>unversioned</version>
      </bundle>
      <comments></comments>
      <descriptors>
        <entry>
          <key>data_source</key>
          <value>
            <name>data_source</name>
          </value>
        </entry>
        <entry>
          <key>zk_connect_string</key>
          <value>
            <name>zk_connect_string</name>
          </value>
        </entry>
        <entry>
          <key>index_service_path</key>
          <value>
            <name>index_service_path</name>
          </value>
        </entry>
        <entry>
          <key>discovery_path</key>
          <value>
            <name>discovery_path</name>
          </value>
        </entry>
        <entry>
          <key>dimensions_list</key>
          <value>
            <name>dimensions_list</name>
          </value>
        </entry>
        <entry>
          <key>aggregators_descriptor</key>
          <value>
            <name>aggregators_descriptor</name>
          </value>
        </entry>
        <entry>
          <key>segment_granularity</key>
          <value>
            <name>segment_granularity</name>
          </value>
        </entry>
        <entry>
          <key>query_granularity</key>
          <value>
            <name>query_granularity</name>
          </value>
        </entry>
        <entry>
          <key>window_period</key>
          <value>
            <name>window_period</name>
          </value>
        </entry>
        <entry>
          <key>timestamp_field</key>
          <value>
            <name>timestamp_field</name>
          </value>
        </entry>
      </descriptors>
      <name>DruidTranquilityControllerMintueRollup</name>
      <persistsState>false</persistsState>
      <properties>
        <entry>
          <key>data_source</key>
          <value>historian_minute</value>
        </entry>
        <entry>
          <key>zk_connect_string</key>
          <value>ip-172-31-74-106.ec2.internal:2181</value>
        </entry>
        <entry>
          <key>index_service_path</key>
          <value>druid/overlord</value>
        </entry>
        <entry>
          <key>discovery_path</key>
          <value>/druid/discovery</value>
        </entry>
        <entry>
          <key>dimensions_list</key>
          <value>function</value>
        </entry>
        <entry>
          <key>aggregators_descriptor</key>
          <value>[
            {
              "type" : "count",
              "name" : "count"
            },
            {
              "name" : "value_sum",
              "type" : "doubleSum",
              "fieldName" : "value"
            },
            {
              "fieldName" : "value",
              "name" : "value_min",
              "type" : "doubleMin"
            },
            {
              "type" : "doubleMax",
              "name" : "value_max",
              "fieldName" : "value"
            }
          ]</value>
        </entry>
        <entry>
          <key>segment_granularity</key>
          <value>TEN_MINUTE</value>
        </entry>
        <entry>
          <key>query_granularity</key>
          <value>MINUTE</value>
        </entry>
        <entry>
          <key>window_period</key>
          <value>PT1M</value>
        </entry>
        <entry>
          <key>timestamp_field</key>
          <value>timestamp</value>
        </entry>
      </properties>
      <state>ENABLED</state>
      <type>com.hortonworks.nifi.controller.DruidTranquilityController</type>
    </controllerServices>
    <controllerServices>
      <id>0bfe8b63-5ba0-34b3-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <bundle>
        <artifact>nifi-hbase_1_1_2-client-service-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.2.0.3.0.0.0-453</version>
      </bundle>
      <comments></comments>
      <descriptors>
        <entry>
          <key>Hadoop Configuration Files</key>
          <value>
            <name>Hadoop Configuration Files</name>
          </value>
        </entry>
        <entry>
          <key>Kerberos Principal</key>
          <value>
            <name>Kerberos Principal</name>
          </value>
        </entry>
        <entry>
          <key>Kerberos Keytab</key>
          <value>
            <name>Kerberos Keytab</name>
          </value>
        </entry>
        <entry>
          <key>ZooKeeper Quorum</key>
          <value>
            <name>ZooKeeper Quorum</name>
          </value>
        </entry>
        <entry>
          <key>ZooKeeper Client Port</key>
          <value>
            <name>ZooKeeper Client Port</name>
          </value>
        </entry>
        <entry>
          <key>ZooKeeper ZNode Parent</key>
          <value>
            <name>ZooKeeper ZNode Parent</name>
          </value>
        </entry>
        <entry>
          <key>HBase Client Retries</key>
          <value>
            <name>HBase Client Retries</name>
          </value>
        </entry>
        <entry>
          <key>Phoenix Client JAR Location</key>
          <value>
            <name>Phoenix Client JAR Location</name>
          </value>
        </entry>
      </descriptors>
      <name>HBase_1_1_2_ClientService</name>
      <persistsState>false</persistsState>
      <properties>
        <entry>
          <key>Hadoop Configuration Files</key>
          <value>/usr/hdp/current/hbase-client/conf/hbase-site.xml,/usr/hdp/current/hadoop-client/conf/core-site.xml</value>
        </entry>
        <entry>
          <key>Kerberos Principal</key>
        </entry>
        <entry>
          <key>Kerberos Keytab</key>
        </entry>
        <entry>
          <key>ZooKeeper Quorum</key>
        </entry>
        <entry>
          <key>ZooKeeper Client Port</key>
        </entry>
        <entry>
          <key>ZooKeeper ZNode Parent</key>
        </entry>
        <entry>
          <key>HBase Client Retries</key>
          <value>1</value>
        </entry>
        <entry>
          <key>Phoenix Client JAR Location</key>
        </entry>
      </properties>
      <state>ENABLED</state>
      <type>org.apache.nifi.hbase.HBase_1_1_2_ClientService</type>
    </controllerServices>
    <controllerServices>
      <id>2a245a60-23f2-3db8-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <bundle>
        <artifact>nifi-livy-bundle-nar</artifact>
        <group>default</group>
        <version>unversioned</version>
      </bundle>
      <comments></comments>
      <descriptors>
        <entry>
          <key>livy_host</key>
          <value>
            <name>livy_host</name>
          </value>
        </entry>
        <entry>
          <key>livy_port</key>
          <value>
            <name>livy_port</name>
          </value>
        </entry>
        <entry>
          <key>session_pool_size</key>
          <value>
            <name>session_pool_size</name>
          </value>
        </entry>
        <entry>
          <key>session_kind</key>
          <value>
            <name>session_kind</name>
          </value>
        </entry>
        <entry>
          <key>jars</key>
          <value>
            <name>jars</name>
          </value>
        </entry>
        <entry>
          <key>files</key>
          <value>
            <name>files</name>
          </value>
        </entry>
      </descriptors>
      <name>PythonLivySessionController</name>
      <persistsState>false</persistsState>
      <properties>
        <entry>
          <key>livy_host</key>
          <value>ip-172-31-79-71.ec2.internal</value>
        </entry>
        <entry>
          <key>livy_port</key>
          <value>8999</value>
        </entry>
        <entry>
          <key>session_pool_size</key>
          <value>1</value>
        </entry>
        <entry>
          <key>session_kind</key>
          <value>pyspark</value>
        </entry>
        <entry>
          <key>jars</key>
        </entry>
        <entry>
          <key>files</key>
        </entry>
      </properties>
      <state>ENABLED</state>
      <type>com.hortonworks.nifi.controller.LivySessionController</type>
    </controllerServices>
    <controllerServices>
      <id>5dfa236d-a08f-324e-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <bundle>
        <artifact>nifi-http-context-map-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.2.0.3.0.0.0-453</version>
      </bundle>
      <comments></comments>
      <descriptors>
        <entry>
          <key>Maximum Outstanding Requests</key>
          <value>
            <name>Maximum Outstanding Requests</name>
          </value>
        </entry>
        <entry>
          <key>Request Expiration</key>
          <value>
            <name>Request Expiration</name>
          </value>
        </entry>
      </descriptors>
      <name>StandardHttpContextMap</name>
      <persistsState>false</persistsState>
      <properties>
        <entry>
          <key>Maximum Outstanding Requests</key>
          <value>5000</value>
        </entry>
        <entry>
          <key>Request Expiration</key>
          <value>1 min</value>
        </entry>
      </properties>
      <state>ENABLED</state>
      <type>org.apache.nifi.http.StandardHttpContextMap</type>
    </controllerServices>
    <controllerServices>
      <id>6b0c7f16-2125-302c-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <bundle>
        <artifact>nifi-livy-bundle-nar</artifact>
        <group>default</group>
        <version>unversioned</version>
      </bundle>
      <comments></comments>
      <descriptors>
        <entry>
          <key>livy_host</key>
          <value>
            <name>livy_host</name>
          </value>
        </entry>
        <entry>
          <key>livy_port</key>
          <value>
            <name>livy_port</name>
          </value>
        </entry>
        <entry>
          <key>session_pool_size</key>
          <value>
            <name>session_pool_size</name>
          </value>
        </entry>
        <entry>
          <key>session_kind</key>
          <value>
            <name>session_kind</name>
          </value>
        </entry>
        <entry>
          <key>jars</key>
          <value>
            <name>jars</name>
          </value>
        </entry>
        <entry>
          <key>files</key>
          <value>
            <name>files</name>
          </value>
        </entry>
      </descriptors>
      <name>ScalaLivySessionController</name>
      <persistsState>false</persistsState>
      <properties>
        <entry>
          <key>livy_host</key>
          <value>ip-172-31-79-71.ec2.internal</value>
        </entry>
        <entry>
          <key>livy_port</key>
          <value>8999</value>
        </entry>
        <entry>
          <key>session_pool_size</key>
          <value>2</value>
        </entry>
        <entry>
          <key>session_kind</key>
          <value>spark</value>
        </entry>
        <entry>
          <key>jars</key>
        </entry>
        <entry>
          <key>files</key>
        </entry>
      </properties>
      <state>ENABLED</state>
      <type>com.hortonworks.nifi.controller.LivySessionController</type>
    </controllerServices>
    <controllerServices>
      <id>6c3f1770-13a1-37fa-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <bundle>
        <artifact>nifi-hive-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.2.0.3.0.0.0-453</version>
      </bundle>
      <comments></comments>
      <descriptors>
        <entry>
          <key>hive-db-connect-url</key>
          <value>
            <name>hive-db-connect-url</name>
          </value>
        </entry>
        <entry>
          <key>hive-config-resources</key>
          <value>
            <name>hive-config-resources</name>
          </value>
        </entry>
        <entry>
          <key>hive-db-user</key>
          <value>
            <name>hive-db-user</name>
          </value>
        </entry>
        <entry>
          <key>hive-db-password</key>
          <value>
            <name>hive-db-password</name>
          </value>
        </entry>
        <entry>
          <key>hive-max-wait-time</key>
          <value>
            <name>hive-max-wait-time</name>
          </value>
        </entry>
        <entry>
          <key>hive-max-total-connections</key>
          <value>
            <name>hive-max-total-connections</name>
          </value>
        </entry>
        <entry>
          <key>Validation-query</key>
          <value>
            <name>Validation-query</name>
          </value>
        </entry>
        <entry>
          <key>Kerberos Principal</key>
          <value>
            <name>Kerberos Principal</name>
          </value>
        </entry>
        <entry>
          <key>Kerberos Keytab</key>
          <value>
            <name>Kerberos Keytab</name>
          </value>
        </entry>
      </descriptors>
      <name>HiveConnectionPool</name>
      <persistsState>false</persistsState>
      <properties>
        <entry>
          <key>hive-db-connect-url</key>
          <value>jdbc:hive2://ip-172-31-74-106.ec2.internal:10500</value>
        </entry>
        <entry>
          <key>hive-config-resources</key>
        </entry>
        <entry>
          <key>hive-db-user</key>
          <value>hive</value>
        </entry>
        <entry>
          <key>hive-db-password</key>
        </entry>
        <entry>
          <key>hive-max-wait-time</key>
          <value>500 millis</value>
        </entry>
        <entry>
          <key>hive-max-total-connections</key>
          <value>8</value>
        </entry>
        <entry>
          <key>Validation-query</key>
        </entry>
        <entry>
          <key>Kerberos Principal</key>
        </entry>
        <entry>
          <key>Kerberos Keytab</key>
        </entry>
      </properties>
      <state>ENABLED</state>
      <type>org.apache.nifi.dbcp.hive.HiveConnectionPool</type>
    </controllerServices>
    <controllerServices>
      <id>77410851-041c-3548-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <bundle>
        <artifact>nifi-hbase_1_1_2-client-service-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.2.0.3.0.0.0-453</version>
      </bundle>
      <comments></comments>
      <descriptors>
        <entry>
          <key>HBase Cache Table Name</key>
          <value>
            <name>HBase Cache Table Name</name>
          </value>
        </entry>
        <entry>
          <key>HBase Client Service</key>
          <value>
            <identifiesControllerService>org.apache.nifi.hbase.HBaseClientService</identifiesControllerService>
            <name>HBase Client Service</name>
          </value>
        </entry>
        <entry>
          <key>HBase Column Family</key>
          <value>
            <name>HBase Column Family</name>
          </value>
        </entry>
        <entry>
          <key>HBase Column Qualifier</key>
          <value>
            <name>HBase Column Qualifier</name>
          </value>
        </entry>
      </descriptors>
      <name>HBase_1_1_2_ClientMapCacheService</name>
      <persistsState>false</persistsState>
      <properties>
        <entry>
          <key>HBase Cache Table Name</key>
          <value>historian_tag_cache</value>
        </entry>
        <entry>
          <key>HBase Client Service</key>
          <value>0bfe8b63-5ba0-34b3-0000-000000000000</value>
        </entry>
        <entry>
          <key>HBase Column Family</key>
          <value>f</value>
        </entry>
        <entry>
          <key>HBase Column Qualifier</key>
          <value>q</value>
        </entry>
      </properties>
      <state>ENABLED</state>
      <type>org.apache.nifi.hbase.HBase_1_1_2_ClientMapCacheService</type>
    </controllerServices>
    <inputPorts>
      <id>e1ebd33f-8377-3ba0-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <position>
        <x>1335.2443049300591</x>
        <y>296.45392083062063</y>
      </position>
      <comments></comments>
      <concurrentlySchedulableTaskCount>4</concurrentlySchedulableTaskCount>
      <name>S2S-Ingest</name>
      <state>RUNNING</state>
      <transmitting>false</transmitting>
      <type>INPUT_PORT</type>
    </inputPorts>
    <inputPorts>
      <id>70c25515-78e2-3e1a-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <position>
        <x>810.0780585552662</x>
        <y>295.327903537207</y>
      </position>
      <comments></comments>
      <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
      <name>HTTP-Ingest</name>
      <state>RUNNING</state>
      <transmitting>false</transmitting>
      <type>INPUT_PORT</type>
    </inputPorts>
    <processGroups>
      <id>b7dfa319-318b-33ba-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <position>
        <x>0.0</x>
        <y>449.86268934556097</y>
      </position>
      <comments></comments>
      <contents>
        <connections>
          <id>8e196b2e-d7b0-355a-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>2fb8b544-e4b4-3c8e-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>d77f19e9-c37d-30e0-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>906e12f4-1508-3fa4-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>a8b85524-a62e-3c45-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>hive_column</selectedRelationships>
          <source>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>c79fa389-7ab5-368f-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>e3410a75-e246-3617-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>c66b5f1c-6c29-3f42-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>trait_add</selectedRelationships>
          <source>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>c79fa389-7ab5-368f-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>e869c4f5-b45c-3356-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>c4f9ff31-40bb-3468-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>26240e2c-5b25-3006-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>eb68b10d-baae-38c9-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>d77f19e9-c37d-30e0-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>metric</selectedRelationships>
          <source>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>ddfe98f3-795c-3979-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>fa540c72-26a0-3bd1-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>af9378ca-e4f7-353c-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>term_alias</selectedRelationships>
          <source>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>0e607963-2806-3665-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>fea451a7-6a7e-3306-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>78a451be-6c07-310c-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>4a2e4a89-6af0-3f3e-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>0cf65bce-5dd7-3684-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>c79fa389-7ab5-368f-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>matched</selectedRelationships>
          <source>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>78a451be-6c07-310c-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>1e40855d-0173-32d9-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>30aaa396-d75e-3d26-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>c4f9ff31-40bb-3468-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>213a7acc-70e3-3455-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>ddfe98f3-795c-3979-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>matched</selectedRelationships>
          <source>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>a8b85524-a62e-3c45-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>2ff20fa6-1dbf-3f5d-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>817e2a21-5e1a-3b69-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>2fb8b544-e4b4-3c8e-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>35fb7f2f-4262-3f78-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>26240e2c-5b25-3006-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>historian_tag</selectedRelationships>
          <source>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>c79fa389-7ab5-368f-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>48e8b6ac-35d8-3986-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>4134f329-0feb-358c-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>split</selectedRelationships>
          <source>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>c66b5f1c-6c29-3f42-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>71f2d740-ad97-3867-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>0e607963-2806-3665-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>matched</selectedRelationships>
          <source>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>4134f329-0feb-358c-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>7c1a9631-cd8f-3df7-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>e9efd2b0-69ed-3ca4-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>b7dfa319-318b-33ba-0000-000000000000</groupId>
            <id>af9378ca-e4f7-353c-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <processors>
          <id>817e2a21-5e1a-3b69-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>187.16928875994518</x>
            <y>1574.2627627866648</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Cache Entry Identifier</key>
                <value>
                  <name>Cache Entry Identifier</name>
                </value>
              </entry>
              <entry>
                <key>Distributed Cache Service</key>
                <value>
                  <identifiesControllerService>org.apache.nifi.distributed.cache.client.DistributedMapCacheClient</identifiesControllerService>
                  <name>Distributed Cache Service</name>
                </value>
              </entry>
              <entry>
                <key>Cache update strategy</key>
                <value>
                  <name>Cache update strategy</name>
                </value>
              </entry>
              <entry>
                <key>Max cache entry size</key>
                <value>
                  <name>Max cache entry size</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Cache Entry Identifier</key>
                <value>${metricKey}</value>
              </entry>
              <entry>
                <key>Distributed Cache Service</key>
                <value>77410851-041c-3548-0000-000000000000</value>
              </entry>
              <entry>
                <key>Cache update strategy</key>
                <value>replace</value>
              </entry>
              <entry>
                <key>Max cache entry size</key>
                <value>1 MB</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>CacheMetricMetaData</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.PutDistributedMapCache</type>
        </processors>
        <processors>
          <id>a8b85524-a62e-3c45-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>185.47392008694487</x>
            <y>778.062805255912</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Destination</key>
                <value>
                  <name>Destination</name>
                </value>
              </entry>
              <entry>
                <key>Return Type</key>
                <value>
                  <name>Return Type</name>
                </value>
              </entry>
              <entry>
                <key>Path Not Found Behavior</key>
                <value>
                  <name>Path Not Found Behavior</name>
                </value>
              </entry>
              <entry>
                <key>Null Value Representation</key>
                <value>
                  <name>Null Value Representation</name>
                </value>
              </entry>
              <entry>
                <key>columnFunction</key>
                <value>
                  <name>columnFunction</name>
                </value>
              </entry>
              <entry>
                <key>columnId</key>
                <value>
                  <name>columnId</name>
                </value>
              </entry>
              <entry>
                <key>columnType</key>
                <value>
                  <name>columnType</name>
                </value>
              </entry>
              <entry>
                <key>granularity</key>
                <value>
                  <name>granularity</name>
                </value>
              </entry>
              <entry>
                <key>tableId</key>
                <value>
                  <name>tableId</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Destination</key>
                <value>flowfile-attribute</value>
              </entry>
              <entry>
                <key>Return Type</key>
                <value>auto-detect</value>
              </entry>
              <entry>
                <key>Path Not Found Behavior</key>
                <value>ignore</value>
              </entry>
              <entry>
                <key>Null Value Representation</key>
                <value>empty string</value>
              </entry>
              <entry>
                <key>columnFunction</key>
                <value>$.message.entity.values.column_function</value>
              </entry>
              <entry>
                <key>columnId</key>
                <value>$.message.entity.id.id</value>
              </entry>
              <entry>
                <key>columnType</key>
                <value>$.message.entity.values.column_type</value>
              </entry>
              <entry>
                <key>granularity</key>
                <value>$.message.entity.values.granularity</value>
              </entry>
              <entry>
                <key>tableId</key>
                <value>$.message.entity.values.table.id</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>EvaluateJsonPath</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>matched</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>unmatched</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.EvaluateJsonPath</type>
        </processors>
        <processors>
          <id>af9378ca-e4f7-353c-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>1311.8493588230274</x>
            <y>1380.1136559955246</y>
          </position>
          <bundle>
            <artifact>nifi-update-attribute-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <annotationData>&lt;criteria&gt;
    &lt;flowFilePolicy&gt;USE_CLONE&lt;/flowFilePolicy&gt;
    &lt;rules&gt;
        &lt;actions&gt;
            &lt;attribute&gt;function&lt;/attribute&gt;
            &lt;id&gt;ba4c7af4-6511-43f0-9d33-60d90c2ed987&lt;/id&gt;
            &lt;value&gt;${traitProperties:jsonPath('$.function')}&lt;/value&gt;
        &lt;/actions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${traitProperties:startsWith('{'):and(${traitProperties:endsWith('}')})}&lt;/expression&gt;
            &lt;id&gt;2daa0efa-6ed7-46f9-9094-148569f480bb&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;id&gt;8a952fe7-ddc2-4751-a9a1-0ca456e84d52&lt;/id&gt;
        &lt;name&gt;function&lt;/name&gt;
    &lt;/rules&gt;
&lt;/criteria&gt;</annotationData>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Delete Attributes Expression</key>
                <value>
                  <name>Delete Attributes Expression</name>
                </value>
              </entry>
              <entry>
                <key>Store State</key>
                <value>
                  <name>Store State</name>
                </value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                  <name>Stateful Variables Initial Value</name>
                </value>
              </entry>
              <entry>
                <key>alias</key>
                <value>
                  <name>alias</name>
                </value>
              </entry>
              <entry>
                <key>column</key>
                <value>
                  <name>column</name>
                </value>
              </entry>
              <entry>
                <key>table</key>
                <value>
                  <name>table</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Delete Attributes Expression</key>
              </entry>
              <entry>
                <key>Store State</key>
                <value>Do not store state</value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
              </entry>
              <entry>
                <key>alias</key>
                <value>${traitName:substringAfterLast('.')}</value>
              </entry>
              <entry>
                <key>column</key>
                <value>${tagQN:getDelimitedField(2,'.')}</value>
              </entry>
              <entry>
                <key>table</key>
                <value>${tagQN:getDelimitedField(1,'.')}</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>UpdateAttribute</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
        </processors>
        <processors>
          <id>c4f9ff31-40bb-3468-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>736.6298297884443</x>
            <y>1375.9610008590955</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Regular Expression</key>
                <value>
                  <name>Regular Expression</name>
                </value>
              </entry>
              <entry>
                <key>Replacement Value</key>
                <value>
                  <name>Replacement Value</name>
                </value>
              </entry>
              <entry>
                <key>Character Set</key>
                <value>
                  <name>Character Set</name>
                </value>
              </entry>
              <entry>
                <key>Maximum Buffer Size</key>
                <value>
                  <name>Maximum Buffer Size</name>
                </value>
              </entry>
              <entry>
                <key>Replacement Strategy</key>
                <value>
                  <name>Replacement Strategy</name>
                </value>
              </entry>
              <entry>
                <key>Evaluation Mode</key>
                <value>
                  <name>Evaluation Mode</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Regular Expression</key>
                <value>.</value>
              </entry>
              <entry>
                <key>Replacement Value</key>
                <value>{"tagName":"${tagName}"}</value>
              </entry>
              <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
              </entry>
              <entry>
                <key>Maximum Buffer Size</key>
                <value>1 MB</value>
              </entry>
              <entry>
                <key>Replacement Strategy</key>
                <value>Always Replace</value>
              </entry>
              <entry>
                <key>Evaluation Mode</key>
                <value>Entire text</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>GenerateTagNameValue</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.ReplaceText</type>
        </processors>
        <processors>
          <id>c66b5f1c-6c29-3f42-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>1310.7777734628078</x>
            <y>787.5955308095783</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>JsonPath Expression</key>
                <value>
                  <name>JsonPath Expression</name>
                </value>
              </entry>
              <entry>
                <key>Null Value Representation</key>
                <value>
                  <name>Null Value Representation</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>JsonPath Expression</key>
                <value>$.message.traits[*]</value>
              </entry>
              <entry>
                <key>Null Value Representation</key>
                <value>empty string</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>SplitJson</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>original</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>split</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.SplitJson</type>
        </processors>
        <processors>
          <id>c79fa389-7ab5-368f-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>733.7820642796999</x>
            <y>567.1175879402624</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Routing Strategy</key>
                <value>
                  <name>Routing Strategy</name>
                </value>
              </entry>
              <entry>
                <key>historian_tag</key>
                <value>
                  <name>historian_tag</name>
                </value>
              </entry>
              <entry>
                <key>hive_column</key>
                <value>
                  <name>hive_column</name>
                </value>
              </entry>
              <entry>
                <key>hive_table</key>
                <value>
                  <name>hive_table</name>
                </value>
              </entry>
              <entry>
                <key>trait_add</key>
                <value>
                  <name>trait_add</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Routing Strategy</key>
                <value>Route to Property name</value>
              </entry>
              <entry>
                <key>historian_tag</key>
                <value>${operationType:equals('ENTITY_UPDATE'):and(${entityType:equals('historian_tag')})}</value>
              </entry>
              <entry>
                <key>hive_column</key>
                <value>${operationType:equals('ENTITY_UPDATE'):and(${entityType:equals('hive_column')})}</value>
              </entry>
              <entry>
                <key>hive_table</key>
                <value>${operationType:equals('ENTITY_UPDATE'):and(${entityType:equals('hive_table')})}</value>
              </entry>
              <entry>
                <key>trait_add</key>
                <value>${operationType:equals('TRAIT_ADD')}</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>DetermineAtlasEntityType</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>historian_tag</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>hive_column</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>hive_table</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>trait_add</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>unmatched</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
        </processors>
        <processors>
          <id>d77f19e9-c37d-30e0-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>187.36454046322478</x>
            <y>1177.115252819304</y>
          </position>
          <bundle>
            <artifact>nifi-update-attribute-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Delete Attributes Expression</key>
                <value>
                  <name>Delete Attributes Expression</name>
                </value>
              </entry>
              <entry>
                <key>Store State</key>
                <value>
                  <name>Store State</name>
                </value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                  <name>Stateful Variables Initial Value</name>
                </value>
              </entry>
              <entry>
                <key>metricKey</key>
                <value>
                  <name>metricKey</name>
                </value>
              </entry>
              <entry>
                <key>tableName</key>
                <value>
                  <name>tableName</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Delete Attributes Expression</key>
              </entry>
              <entry>
                <key>Store State</key>
                <value>Do not store state</value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
              </entry>
              <entry>
                <key>metricKey</key>
                <value>${columnFunction:toLower():append(${granularity:toLower()})}</value>
              </entry>
              <entry>
                <key>tableName</key>
                <value>${entityQN:getDelimitedField(2,'.')}</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>ExtractTableName</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
        </processors>
        <processors>
          <id>ddfe98f3-795c-3979-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>185.4738063339388</x>
            <y>988.0797790731276</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Routing Strategy</key>
                <value>
                  <name>Routing Strategy</name>
                </value>
              </entry>
              <entry>
                <key>metric</key>
                <value>
                  <name>metric</name>
                </value>
              </entry>
              <entry>
                <key>timeOrDimension</key>
                <value>
                  <name>timeOrDimension</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Routing Strategy</key>
                <value>Route to Property name</value>
              </entry>
              <entry>
                <key>metric</key>
                <value>${columnType:equals('metric')}</value>
              </entry>
              <entry>
                <key>timeOrDimension</key>
                <value>${columnType:equals('time'):or(${columnType:equals('dimension')})}</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>FilterTimeAndDimension</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>metric</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>timeOrDimension</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>unmatched</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
        </processors>
        <processors>
          <id>e9efd2b0-69ed-3ca4-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>1316.5748574509826</x>
            <y>1577.9438223692016</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Cache Entry Identifier</key>
                <value>
                  <name>Cache Entry Identifier</name>
                </value>
              </entry>
              <entry>
                <key>Distributed Cache Service</key>
                <value>
                  <identifiesControllerService>org.apache.nifi.distributed.cache.client.DistributedMapCacheClient</identifiesControllerService>
                  <name>Distributed Cache Service</name>
                </value>
              </entry>
              <entry>
                <key>Cache update strategy</key>
                <value>
                  <name>Cache update strategy</name>
                </value>
              </entry>
              <entry>
                <key>Max cache entry size</key>
                <value>
                  <name>Max cache entry size</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Cache Entry Identifier</key>
                <value>${alias}</value>
              </entry>
              <entry>
                <key>Distributed Cache Service</key>
                <value>77410851-041c-3548-0000-000000000000</value>
              </entry>
              <entry>
                <key>Cache update strategy</key>
                <value>replace</value>
              </entry>
              <entry>
                <key>Max cache entry size</key>
                <value>1 MB</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>PutDistributedMapCache</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.PutDistributedMapCache</type>
        </processors>
        <processors>
          <id>0e607963-2806-3665-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>1312.6787626345388</x>
            <y>1179.1865967097126</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Routing Strategy</key>
                <value>
                  <name>Routing Strategy</name>
                </value>
              </entry>
              <entry>
                <key>term_alias</key>
                <value>
                  <name>term_alias</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Routing Strategy</key>
                <value>Route to Property name</value>
              </entry>
              <entry>
                <key>term_alias</key>
                <value>${traitType:startsWith('Catalog.'):and(${traitName:isEmpty():not():and(${traitProperties:isEmpty():not():and(${tagQN:isEmpty():not()})})})}</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>RouteOnAttribute</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>term_alias</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>unmatched</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
        </processors>
        <processors>
          <id>26240e2c-5b25-3006-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>739.1047583534519</x>
            <y>779.7963735488463</y>
          </position>
          <bundle>
            <artifact>nifi-update-attribute-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Delete Attributes Expression</key>
                <value>
                  <name>Delete Attributes Expression</name>
                </value>
              </entry>
              <entry>
                <key>Store State</key>
                <value>
                  <name>Store State</name>
                </value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                  <name>Stateful Variables Initial Value</name>
                </value>
              </entry>
              <entry>
                <key>tagName</key>
                <value>
                  <name>tagName</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Delete Attributes Expression</key>
              </entry>
              <entry>
                <key>Store State</key>
                <value>Do not store state</value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
              </entry>
              <entry>
                <key>tagName</key>
                <value>${entityName}</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>ExtractTagName</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
        </processors>
        <processors>
          <id>2fb8b544-e4b4-3c8e-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>185.7056340892351</x>
            <y>1370.8243128159036</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Regular Expression</key>
                <value>
                  <name>Regular Expression</name>
                </value>
              </entry>
              <entry>
                <key>Replacement Value</key>
                <value>
                  <name>Replacement Value</name>
                </value>
              </entry>
              <entry>
                <key>Character Set</key>
                <value>
                  <name>Character Set</name>
                </value>
              </entry>
              <entry>
                <key>Maximum Buffer Size</key>
                <value>
                  <name>Maximum Buffer Size</name>
                </value>
              </entry>
              <entry>
                <key>Replacement Strategy</key>
                <value>
                  <name>Replacement Strategy</name>
                </value>
              </entry>
              <entry>
                <key>Evaluation Mode</key>
                <value>
                  <name>Evaluation Mode</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Regular Expression</key>
                <value>.</value>
              </entry>
              <entry>
                <key>Replacement Value</key>
                <value>{"function":"${columnFunction}","columnName":"${entityName}","tableName":"${tableName}"}</value>
              </entry>
              <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
              </entry>
              <entry>
                <key>Maximum Buffer Size</key>
                <value>1 MB</value>
              </entry>
              <entry>
                <key>Replacement Strategy</key>
                <value>Always Replace</value>
              </entry>
              <entry>
                <key>Evaluation Mode</key>
                <value>Entire text</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>GenerateMetricMetaData</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.ReplaceText</type>
        </processors>
        <processors>
          <id>30aaa396-d75e-3d26-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>736.9068993577887</x>
            <y>1576.9786344647052</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Cache Entry Identifier</key>
                <value>
                  <name>Cache Entry Identifier</name>
                </value>
              </entry>
              <entry>
                <key>Distributed Cache Service</key>
                <value>
                  <identifiesControllerService>org.apache.nifi.distributed.cache.client.DistributedMapCacheClient</identifiesControllerService>
                  <name>Distributed Cache Service</name>
                </value>
              </entry>
              <entry>
                <key>Cache update strategy</key>
                <value>
                  <name>Cache update strategy</name>
                </value>
              </entry>
              <entry>
                <key>Max cache entry size</key>
                <value>
                  <name>Max cache entry size</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Cache Entry Identifier</key>
                <value>${tagName}</value>
              </entry>
              <entry>
                <key>Distributed Cache Service</key>
                <value>77410851-041c-3548-0000-000000000000</value>
              </entry>
              <entry>
                <key>Cache update strategy</key>
                <value>replace</value>
              </entry>
              <entry>
                <key>Max cache entry size</key>
                <value>1 MB</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>CacheTagName</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.PutDistributedMapCache</type>
        </processors>
        <processors>
          <id>4134f329-0feb-358c-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>1312.758760785339</x>
            <y>992.1903019935669</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Destination</key>
                <value>
                  <name>Destination</name>
                </value>
              </entry>
              <entry>
                <key>Return Type</key>
                <value>
                  <name>Return Type</name>
                </value>
              </entry>
              <entry>
                <key>Path Not Found Behavior</key>
                <value>
                  <name>Path Not Found Behavior</name>
                </value>
              </entry>
              <entry>
                <key>Null Value Representation</key>
                <value>
                  <name>Null Value Representation</name>
                </value>
              </entry>
              <entry>
                <key>traitName</key>
                <value>
                  <name>traitName</name>
                </value>
              </entry>
              <entry>
                <key>traitProperties</key>
                <value>
                  <name>traitProperties</name>
                </value>
              </entry>
              <entry>
                <key>traitType</key>
                <value>
                  <name>traitType</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Destination</key>
                <value>flowfile-attribute</value>
              </entry>
              <entry>
                <key>Return Type</key>
                <value>auto-detect</value>
              </entry>
              <entry>
                <key>Path Not Found Behavior</key>
                <value>ignore</value>
              </entry>
              <entry>
                <key>Null Value Representation</key>
                <value>empty string</value>
              </entry>
              <entry>
                <key>traitName</key>
                <value>$.values.name</value>
              </entry>
              <entry>
                <key>traitProperties</key>
                <value>$.values.description</value>
              </entry>
              <entry>
                <key>traitType</key>
                <value>$.typeName</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>EvaluateJsonPath</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>matched</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>unmatched</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.EvaluateJsonPath</type>
        </processors>
        <processors>
          <id>4a2e4a89-6af0-3f3e-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>734.5553504121949</x>
            <y>162.07510382061798</y>
          </position>
          <bundle>
            <artifact>nifi-kafka-0-10-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>bootstrap.servers</key>
                <value>
                  <name>bootstrap.servers</name>
                </value>
              </entry>
              <entry>
                <key>security.protocol</key>
                <value>
                  <name>security.protocol</name>
                </value>
              </entry>
              <entry>
                <key>sasl.kerberos.service.name</key>
                <value>
                  <name>sasl.kerberos.service.name</name>
                </value>
              </entry>
              <entry>
                <key>sasl.kerberos.principal</key>
                <value>
                  <name>sasl.kerberos.principal</name>
                </value>
              </entry>
              <entry>
                <key>sasl.kerberos.keytab</key>
                <value>
                  <name>sasl.kerberos.keytab</name>
                </value>
              </entry>
              <entry>
                <key>ssl.context.service</key>
                <value>
                  <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                  <name>ssl.context.service</name>
                </value>
              </entry>
              <entry>
                <key>topic</key>
                <value>
                  <name>topic</name>
                </value>
              </entry>
              <entry>
                <key>topic_type</key>
                <value>
                  <name>topic_type</name>
                </value>
              </entry>
              <entry>
                <key>group.id</key>
                <value>
                  <name>group.id</name>
                </value>
              </entry>
              <entry>
                <key>auto.offset.reset</key>
                <value>
                  <name>auto.offset.reset</name>
                </value>
              </entry>
              <entry>
                <key>key-attribute-encoding</key>
                <value>
                  <name>key-attribute-encoding</name>
                </value>
              </entry>
              <entry>
                <key>message-demarcator</key>
                <value>
                  <name>message-demarcator</name>
                </value>
              </entry>
              <entry>
                <key>max.poll.records</key>
                <value>
                  <name>max.poll.records</name>
                </value>
              </entry>
              <entry>
                <key>max-uncommit-offset-wait</key>
                <value>
                  <name>max-uncommit-offset-wait</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>bootstrap.servers</key>
                <value>ip-172-31-74-106.ec2.internal:6667</value>
              </entry>
              <entry>
                <key>security.protocol</key>
                <value>PLAINTEXT</value>
              </entry>
              <entry>
                <key>sasl.kerberos.service.name</key>
              </entry>
              <entry>
                <key>sasl.kerberos.principal</key>
              </entry>
              <entry>
                <key>sasl.kerberos.keytab</key>
              </entry>
              <entry>
                <key>ssl.context.service</key>
              </entry>
              <entry>
                <key>topic</key>
                <value>ATLAS_ENTITIES</value>
              </entry>
              <entry>
                <key>topic_type</key>
                <value>names</value>
              </entry>
              <entry>
                <key>group.id</key>
                <value>historian_metadata_management</value>
              </entry>
              <entry>
                <key>auto.offset.reset</key>
                <value>latest</value>
              </entry>
              <entry>
                <key>key-attribute-encoding</key>
                <value>utf-8</value>
              </entry>
              <entry>
                <key>message-demarcator</key>
              </entry>
              <entry>
                <key>max.poll.records</key>
                <value>10000</value>
              </entry>
              <entry>
                <key>max-uncommit-offset-wait</key>
                <value>1 secs</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>ConsumeKafka_0_10</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.kafka.pubsub.ConsumeKafka_0_10</type>
        </processors>
        <processors>
          <id>78a451be-6c07-310c-0000-000000000000</id>
          <parentGroupId>b7dfa319-318b-33ba-0000-000000000000</parentGroupId>
          <position>
            <x>735.8572563129794</x>
            <y>370.4036751833012</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Destination</key>
                <value>
                  <name>Destination</name>
                </value>
              </entry>
              <entry>
                <key>Return Type</key>
                <value>
                  <name>Return Type</name>
                </value>
              </entry>
              <entry>
                <key>Path Not Found Behavior</key>
                <value>
                  <name>Path Not Found Behavior</name>
                </value>
              </entry>
              <entry>
                <key>Null Value Representation</key>
                <value>
                  <name>Null Value Representation</name>
                </value>
              </entry>
              <entry>
                <key>entityName</key>
                <value>
                  <name>entityName</name>
                </value>
              </entry>
              <entry>
                <key>entityQN</key>
                <value>
                  <name>entityQN</name>
                </value>
              </entry>
              <entry>
                <key>entityType</key>
                <value>
                  <name>entityType</name>
                </value>
              </entry>
              <entry>
                <key>operationType</key>
                <value>
                  <name>operationType</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Destination</key>
                <value>flowfile-attribute</value>
              </entry>
              <entry>
                <key>Return Type</key>
                <value>auto-detect</value>
              </entry>
              <entry>
                <key>Path Not Found Behavior</key>
                <value>ignore</value>
              </entry>
              <entry>
                <key>Null Value Representation</key>
                <value>empty string</value>
              </entry>
              <entry>
                <key>entityName</key>
                <value>$.message.entity.values.name</value>
              </entry>
              <entry>
                <key>entityQN</key>
                <value>$.message.entity.values.qualifiedName</value>
              </entry>
              <entry>
                <key>entityType</key>
                <value>$.message.entity.typeName</value>
              </entry>
              <entry>
                <key>operationType</key>
                <value>$.message.operationType</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>GetBaseEntityAttributes</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>matched</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>unmatched</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.EvaluateJsonPath</type>
        </processors>
      </contents>
      <name>metadata_management</name>
    </processGroups>
    <processGroups>
      <id>115c6cfb-8315-3f1c-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <position>
        <x>1000.1244123048236</x>
        <y>447.20160084971735</y>
      </position>
      <comments></comments>
      <contents>
        <connections>
          <id>827c2566-408f-3009-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>95b481d1-b866-30d8-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>merged</selectedRelationships>
          <source>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>fc143832-a44e-3e21-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>8b4758e6-738c-3df8-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>1de5a539-6992-3926-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>merged</selectedRelationships>
          <source>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>339f0b2f-28b5-31da-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>b0dbdb22-f675-336e-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>fc143832-a44e-3e21-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>DROPPED</selectedRelationships>
          <selectedRelationships>FAIL</selectedRelationships>
          <source>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>82b70b01-89e3-30e9-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>bed11a11-25e6-3ee5-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>b3e413b9-ea6d-399e-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>matched</selectedRelationships>
          <source>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>221164a0-ebe9-3a09-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>db536f65-bb2b-3e13-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>82b70b01-89e3-30e9-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>dcbf0334-8857-3da4-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>e56eb7e2-a00d-3826-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>cce9b43c-6558-38e6-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <source>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>41157ca7-c6e8-36b7-0000-000000000000</id>
            <type>INPUT_PORT</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>f0a3d87f-2e0c-36ae-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>339f0b2f-28b5-31da-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>DROPPED</selectedRelationships>
          <selectedRelationships>FAIL</selectedRelationships>
          <source>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>cce9b43c-6558-38e6-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>fd768847-0ab8-3bec-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>dcbf0334-8857-3da4-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>b3e413b9-ea6d-399e-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>16841108-d467-3062-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>cce9b43c-6558-38e6-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>dcbf0334-8857-3da4-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>6a16aaf8-eb4e-38a5-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>82b70b01-89e3-30e9-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <source>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>41157ca7-c6e8-36b7-0000-000000000000</id>
            <type>INPUT_PORT</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>6d92a825-8428-34a3-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>221164a0-ebe9-3a09-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <source>
            <groupId>115c6cfb-8315-3f1c-0000-000000000000</groupId>
            <id>ecdc57f6-aa20-3a55-0000-000000000000</id>
            <type>INPUT_PORT</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <inputPorts>
          <id>ecdc57f6-aa20-3a55-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <position>
            <x>832.2696164359513</x>
            <y>118.22688650813419</y>
          </position>
          <comments></comments>
          <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
          <name>HTTP-Ingest</name>
          <state>RUNNING</state>
          <type>INPUT_PORT</type>
        </inputPorts>
        <inputPorts>
          <id>41157ca7-c6e8-36b7-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <position>
            <x>1334.3694733127093</x>
            <y>658.9071792170544</y>
          </position>
          <comments></comments>
          <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
          <name>S2S-Ingest</name>
          <state>RUNNING</state>
          <type>INPUT_PORT</type>
        </inputPorts>
        <processors>
          <id>82b70b01-89e3-30e9-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <position>
            <x>1283.5549489671307</x>
            <y>863.997390444963</y>
          </position>
          <bundle>
            <artifact>nifi-druid-bundle-nar</artifact>
            <group>default</group>
            <version>unversioned</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>15</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>druid_tranquility_service</key>
                <value>
                  <identifiesControllerService>com.hortonworks.nifi.controller.api.DruidTranquilityService</identifiesControllerService>
                  <name>druid_tranquility_service</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>druid_tranquility_service</key>
                <value>dac4b18d-e04d-3edf-0000-000000000000</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>PutDruidProcessor</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>DROPPED</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>FAIL</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>SUCCESS</name>
          </relationships>
          <style></style>
          <type>com.hortonworks.nifi.processors.PutDruidProcessor</type>
        </processors>
        <processors>
          <id>95b481d1-b866-30d8-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <position>
            <x>1283.554727793055</x>
            <y>1302.9569356808424</y>
          </position>
          <bundle>
            <artifact>nifi-hadoop-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Hadoop Configuration Resources</key>
                <value>
                  <name>Hadoop Configuration Resources</name>
                </value>
              </entry>
              <entry>
                <key>Kerberos Principal</key>
                <value>
                  <name>Kerberos Principal</name>
                </value>
              </entry>
              <entry>
                <key>Kerberos Keytab</key>
                <value>
                  <name>Kerberos Keytab</name>
                </value>
              </entry>
              <entry>
                <key>Kerberos Relogin Period</key>
                <value>
                  <name>Kerberos Relogin Period</name>
                </value>
              </entry>
              <entry>
                <key>Additional Classpath Resources</key>
                <value>
                  <name>Additional Classpath Resources</name>
                </value>
              </entry>
              <entry>
                <key>Directory</key>
                <value>
                  <name>Directory</name>
                </value>
              </entry>
              <entry>
                <key>Conflict Resolution Strategy</key>
                <value>
                  <name>Conflict Resolution Strategy</name>
                </value>
              </entry>
              <entry>
                <key>Block Size</key>
                <value>
                  <name>Block Size</name>
                </value>
              </entry>
              <entry>
                <key>IO Buffer Size</key>
                <value>
                  <name>IO Buffer Size</name>
                </value>
              </entry>
              <entry>
                <key>Replication</key>
                <value>
                  <name>Replication</name>
                </value>
              </entry>
              <entry>
                <key>Permissions umask</key>
                <value>
                  <name>Permissions umask</name>
                </value>
              </entry>
              <entry>
                <key>Remote Owner</key>
                <value>
                  <name>Remote Owner</name>
                </value>
              </entry>
              <entry>
                <key>Remote Group</key>
                <value>
                  <name>Remote Group</name>
                </value>
              </entry>
              <entry>
                <key>Compression codec</key>
                <value>
                  <name>Compression codec</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Hadoop Configuration Resources</key>
                <value>/usr/hdp/current/hadoop-client/conf/core-site.xml,/usr/hdp/current/hadoop-client/conf/hdfs-site.xml</value>
              </entry>
              <entry>
                <key>Kerberos Principal</key>
              </entry>
              <entry>
                <key>Kerberos Keytab</key>
              </entry>
              <entry>
                <key>Kerberos Relogin Period</key>
                <value>4 hours</value>
              </entry>
              <entry>
                <key>Additional Classpath Resources</key>
              </entry>
              <entry>
                <key>Directory</key>
                <value>/apps/historian/minute</value>
              </entry>
              <entry>
                <key>Conflict Resolution Strategy</key>
                <value>fail</value>
              </entry>
              <entry>
                <key>Block Size</key>
              </entry>
              <entry>
                <key>IO Buffer Size</key>
              </entry>
              <entry>
                <key>Replication</key>
              </entry>
              <entry>
                <key>Permissions umask</key>
              </entry>
              <entry>
                <key>Remote Owner</key>
              </entry>
              <entry>
                <key>Remote Group</key>
              </entry>
              <entry>
                <key>Compression codec</key>
                <value>NONE</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>PutHDFS</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.hadoop.PutHDFS</type>
        </processors>
        <processors>
          <id>b3e413b9-ea6d-399e-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <position>
            <x>780.6807791362103</x>
            <y>437.7995440734171</y>
          </position>
          <bundle>
            <artifact>nifi-update-attribute-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Delete Attributes Expression</key>
                <value>
                  <name>Delete Attributes Expression</name>
                </value>
              </entry>
              <entry>
                <key>Store State</key>
                <value>
                  <name>Store State</name>
                </value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                  <name>Stateful Variables Initial Value</name>
                </value>
              </entry>
              <entry>
                <key>timestamp</key>
                <value>
                  <name>timestamp</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Delete Attributes Expression</key>
              </entry>
              <entry>
                <key>Store State</key>
                <value>Do not store state</value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
              </entry>
              <entry>
                <key>timestamp</key>
                <value>${timestamp:format("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'")}</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>ConvertTimeStampToISO</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
        </processors>
        <processors>
          <id>cce9b43c-6558-38e6-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <position>
            <x>782.581907471656</x>
            <y>861.312714649006</y>
          </position>
          <bundle>
            <artifact>nifi-druid-bundle-nar</artifact>
            <group>default</group>
            <version>unversioned</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>15</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>druid_tranquility_service</key>
                <value>
                  <identifiesControllerService>com.hortonworks.nifi.controller.api.DruidTranquilityService</identifiesControllerService>
                  <name>druid_tranquility_service</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>druid_tranquility_service</key>
                <value>93fe3fb1-1a5b-3681-0000-000000000000</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>PutDruidProcessor</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>DROPPED</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>FAIL</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>SUCCESS</name>
          </relationships>
          <style></style>
          <type>com.hortonworks.nifi.processors.PutDruidProcessor</type>
        </processors>
        <processors>
          <id>dcbf0334-8857-3da4-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <position>
            <x>781.9118822078567</x>
            <y>649.4770123307044</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>10</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Attributes List</key>
                <value>
                  <name>Attributes List</name>
                </value>
              </entry>
              <entry>
                <key>Destination</key>
                <value>
                  <name>Destination</name>
                </value>
              </entry>
              <entry>
                <key>Include Core Attributes</key>
                <value>
                  <name>Include Core Attributes</name>
                </value>
              </entry>
              <entry>
                <key>Null Value</key>
                <value>
                  <name>Null Value</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Attributes List</key>
                <value>timestamp,function,value</value>
              </entry>
              <entry>
                <key>Destination</key>
                <value>flowfile-content</value>
              </entry>
              <entry>
                <key>Include Core Attributes</key>
                <value>false</value>
              </entry>
              <entry>
                <key>Null Value</key>
                <value>false</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>ConvertAttributesToHistorianEvent</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.AttributesToJSON</type>
        </processors>
        <processors>
          <id>fc143832-a44e-3e21-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <position>
            <x>1281.9043746369312</x>
            <y>1090.0243498969166</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Merge Strategy</key>
                <value>
                  <name>Merge Strategy</name>
                </value>
              </entry>
              <entry>
                <key>Merge Format</key>
                <value>
                  <name>Merge Format</name>
                </value>
              </entry>
              <entry>
                <key>Attribute Strategy</key>
                <value>
                  <name>Attribute Strategy</name>
                </value>
              </entry>
              <entry>
                <key>Correlation Attribute Name</key>
                <value>
                  <name>Correlation Attribute Name</name>
                </value>
              </entry>
              <entry>
                <key>Minimum Number of Entries</key>
                <value>
                  <name>Minimum Number of Entries</name>
                </value>
              </entry>
              <entry>
                <key>Maximum Number of Entries</key>
                <value>
                  <name>Maximum Number of Entries</name>
                </value>
              </entry>
              <entry>
                <key>Minimum Group Size</key>
                <value>
                  <name>Minimum Group Size</name>
                </value>
              </entry>
              <entry>
                <key>Maximum Group Size</key>
                <value>
                  <name>Maximum Group Size</name>
                </value>
              </entry>
              <entry>
                <key>Max Bin Age</key>
                <value>
                  <name>Max Bin Age</name>
                </value>
              </entry>
              <entry>
                <key>Maximum number of Bins</key>
                <value>
                  <name>Maximum number of Bins</name>
                </value>
              </entry>
              <entry>
                <key>Delimiter Strategy</key>
                <value>
                  <name>Delimiter Strategy</name>
                </value>
              </entry>
              <entry>
                <key>Header File</key>
                <value>
                  <name>Header File</name>
                </value>
              </entry>
              <entry>
                <key>Footer File</key>
                <value>
                  <name>Footer File</name>
                </value>
              </entry>
              <entry>
                <key>Demarcator File</key>
                <value>
                  <name>Demarcator File</name>
                </value>
              </entry>
              <entry>
                <key>Compression Level</key>
                <value>
                  <name>Compression Level</name>
                </value>
              </entry>
              <entry>
                <key>Keep Path</key>
                <value>
                  <name>Keep Path</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Merge Strategy</key>
                <value>Bin-Packing Algorithm</value>
              </entry>
              <entry>
                <key>Merge Format</key>
                <value>Binary Concatenation</value>
              </entry>
              <entry>
                <key>Attribute Strategy</key>
                <value>Keep Only Common Attributes</value>
              </entry>
              <entry>
                <key>Correlation Attribute Name</key>
              </entry>
              <entry>
                <key>Minimum Number of Entries</key>
                <value>1</value>
              </entry>
              <entry>
                <key>Maximum Number of Entries</key>
                <value>100</value>
              </entry>
              <entry>
                <key>Minimum Group Size</key>
                <value>0 B</value>
              </entry>
              <entry>
                <key>Maximum Group Size</key>
              </entry>
              <entry>
                <key>Max Bin Age</key>
              </entry>
              <entry>
                <key>Maximum number of Bins</key>
                <value>5</value>
              </entry>
              <entry>
                <key>Delimiter Strategy</key>
                <value>Filename</value>
              </entry>
              <entry>
                <key>Header File</key>
              </entry>
              <entry>
                <key>Footer File</key>
              </entry>
              <entry>
                <key>Demarcator File</key>
              </entry>
              <entry>
                <key>Compression Level</key>
                <value>1</value>
              </entry>
              <entry>
                <key>Keep Path</key>
                <value>false</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>MergeContent</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>merged</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>original</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.MergeContent</type>
        </processors>
        <processors>
          <id>1de5a539-6992-3926-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <position>
            <x>784.2613124843824</x>
            <y>1300.2403174486649</y>
          </position>
          <bundle>
            <artifact>nifi-hadoop-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Hadoop Configuration Resources</key>
                <value>
                  <name>Hadoop Configuration Resources</name>
                </value>
              </entry>
              <entry>
                <key>Kerberos Principal</key>
                <value>
                  <name>Kerberos Principal</name>
                </value>
              </entry>
              <entry>
                <key>Kerberos Keytab</key>
                <value>
                  <name>Kerberos Keytab</name>
                </value>
              </entry>
              <entry>
                <key>Kerberos Relogin Period</key>
                <value>
                  <name>Kerberos Relogin Period</name>
                </value>
              </entry>
              <entry>
                <key>Additional Classpath Resources</key>
                <value>
                  <name>Additional Classpath Resources</name>
                </value>
              </entry>
              <entry>
                <key>Directory</key>
                <value>
                  <name>Directory</name>
                </value>
              </entry>
              <entry>
                <key>Conflict Resolution Strategy</key>
                <value>
                  <name>Conflict Resolution Strategy</name>
                </value>
              </entry>
              <entry>
                <key>Block Size</key>
                <value>
                  <name>Block Size</name>
                </value>
              </entry>
              <entry>
                <key>IO Buffer Size</key>
                <value>
                  <name>IO Buffer Size</name>
                </value>
              </entry>
              <entry>
                <key>Replication</key>
                <value>
                  <name>Replication</name>
                </value>
              </entry>
              <entry>
                <key>Permissions umask</key>
                <value>
                  <name>Permissions umask</name>
                </value>
              </entry>
              <entry>
                <key>Remote Owner</key>
                <value>
                  <name>Remote Owner</name>
                </value>
              </entry>
              <entry>
                <key>Remote Group</key>
                <value>
                  <name>Remote Group</name>
                </value>
              </entry>
              <entry>
                <key>Compression codec</key>
                <value>
                  <name>Compression codec</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Hadoop Configuration Resources</key>
                <value>/usr/hdp/current/hadoop-client/conf/core-site.xml,/usr/hdp/current/hadoop-client/conf/hdfs-site.xml</value>
              </entry>
              <entry>
                <key>Kerberos Principal</key>
              </entry>
              <entry>
                <key>Kerberos Keytab</key>
              </entry>
              <entry>
                <key>Kerberos Relogin Period</key>
                <value>4 hours</value>
              </entry>
              <entry>
                <key>Additional Classpath Resources</key>
              </entry>
              <entry>
                <key>Directory</key>
                <value>/apps/historian/raw</value>
              </entry>
              <entry>
                <key>Conflict Resolution Strategy</key>
                <value>fail</value>
              </entry>
              <entry>
                <key>Block Size</key>
              </entry>
              <entry>
                <key>IO Buffer Size</key>
              </entry>
              <entry>
                <key>Replication</key>
              </entry>
              <entry>
                <key>Permissions umask</key>
              </entry>
              <entry>
                <key>Remote Owner</key>
              </entry>
              <entry>
                <key>Remote Group</key>
              </entry>
              <entry>
                <key>Compression codec</key>
                <value>NONE</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>PutHDFS</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.hadoop.PutHDFS</type>
        </processors>
        <processors>
          <id>221164a0-ebe9-3a09-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <position>
            <x>781.0232760578724</x>
            <y>230.4290265139967</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>7</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Destination</key>
                <value>
                  <name>Destination</name>
                </value>
              </entry>
              <entry>
                <key>Return Type</key>
                <value>
                  <name>Return Type</name>
                </value>
              </entry>
              <entry>
                <key>Path Not Found Behavior</key>
                <value>
                  <name>Path Not Found Behavior</name>
                </value>
              </entry>
              <entry>
                <key>Null Value Representation</key>
                <value>
                  <name>Null Value Representation</name>
                </value>
              </entry>
              <entry>
                <key>function</key>
                <value>
                  <name>function</name>
                </value>
              </entry>
              <entry>
                <key>timestamp</key>
                <value>
                  <name>timestamp</name>
                </value>
              </entry>
              <entry>
                <key>value</key>
                <value>
                  <name>value</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Destination</key>
                <value>flowfile-attribute</value>
              </entry>
              <entry>
                <key>Return Type</key>
                <value>auto-detect</value>
              </entry>
              <entry>
                <key>Path Not Found Behavior</key>
                <value>ignore</value>
              </entry>
              <entry>
                <key>Null Value Representation</key>
                <value>empty string</value>
              </entry>
              <entry>
                <key>function</key>
                <value>$.function</value>
              </entry>
              <entry>
                <key>timestamp</key>
                <value>$.timestamp</value>
              </entry>
              <entry>
                <key>value</key>
                <value>$.value</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>ExtractJSONAttributes</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>matched</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>unmatched</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.EvaluateJsonPath</type>
        </processors>
        <processors>
          <id>339f0b2f-28b5-31da-0000-000000000000</id>
          <parentGroupId>115c6cfb-8315-3f1c-0000-000000000000</parentGroupId>
          <position>
            <x>784.2371800313836</x>
            <y>1089.006706274114</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Merge Strategy</key>
                <value>
                  <name>Merge Strategy</name>
                </value>
              </entry>
              <entry>
                <key>Merge Format</key>
                <value>
                  <name>Merge Format</name>
                </value>
              </entry>
              <entry>
                <key>Attribute Strategy</key>
                <value>
                  <name>Attribute Strategy</name>
                </value>
              </entry>
              <entry>
                <key>Correlation Attribute Name</key>
                <value>
                  <name>Correlation Attribute Name</name>
                </value>
              </entry>
              <entry>
                <key>Minimum Number of Entries</key>
                <value>
                  <name>Minimum Number of Entries</name>
                </value>
              </entry>
              <entry>
                <key>Maximum Number of Entries</key>
                <value>
                  <name>Maximum Number of Entries</name>
                </value>
              </entry>
              <entry>
                <key>Minimum Group Size</key>
                <value>
                  <name>Minimum Group Size</name>
                </value>
              </entry>
              <entry>
                <key>Maximum Group Size</key>
                <value>
                  <name>Maximum Group Size</name>
                </value>
              </entry>
              <entry>
                <key>Max Bin Age</key>
                <value>
                  <name>Max Bin Age</name>
                </value>
              </entry>
              <entry>
                <key>Maximum number of Bins</key>
                <value>
                  <name>Maximum number of Bins</name>
                </value>
              </entry>
              <entry>
                <key>Delimiter Strategy</key>
                <value>
                  <name>Delimiter Strategy</name>
                </value>
              </entry>
              <entry>
                <key>Header File</key>
                <value>
                  <name>Header File</name>
                </value>
              </entry>
              <entry>
                <key>Footer File</key>
                <value>
                  <name>Footer File</name>
                </value>
              </entry>
              <entry>
                <key>Demarcator File</key>
                <value>
                  <name>Demarcator File</name>
                </value>
              </entry>
              <entry>
                <key>Compression Level</key>
                <value>
                  <name>Compression Level</name>
                </value>
              </entry>
              <entry>
                <key>Keep Path</key>
                <value>
                  <name>Keep Path</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Merge Strategy</key>
                <value>Bin-Packing Algorithm</value>
              </entry>
              <entry>
                <key>Merge Format</key>
                <value>Binary Concatenation</value>
              </entry>
              <entry>
                <key>Attribute Strategy</key>
                <value>Keep Only Common Attributes</value>
              </entry>
              <entry>
                <key>Correlation Attribute Name</key>
              </entry>
              <entry>
                <key>Minimum Number of Entries</key>
                <value>1</value>
              </entry>
              <entry>
                <key>Maximum Number of Entries</key>
                <value>100</value>
              </entry>
              <entry>
                <key>Minimum Group Size</key>
                <value>0 B</value>
              </entry>
              <entry>
                <key>Maximum Group Size</key>
              </entry>
              <entry>
                <key>Max Bin Age</key>
              </entry>
              <entry>
                <key>Maximum number of Bins</key>
                <value>5</value>
              </entry>
              <entry>
                <key>Delimiter Strategy</key>
                <value>Filename</value>
              </entry>
              <entry>
                <key>Header File</key>
              </entry>
              <entry>
                <key>Footer File</key>
              </entry>
              <entry>
                <key>Demarcator File</key>
              </entry>
              <entry>
                <key>Compression Level</key>
                <value>1</value>
              </entry>
              <entry>
                <key>Keep Path</key>
                <value>false</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>MergeContent</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>merged</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>original</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.MergeContent</type>
        </processors>
      </contents>
      <name>historian_ingest</name>
    </processGroups>
    <processGroups>
      <id>5d55d9e2-265f-3585-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <position>
        <x>495.76023146832995</x>
        <y>450.0573811713414</y>
      </position>
      <comments></comments>
      <contents>
        <connections>
          <id>8de5edab-9500-31ea-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>029642b4-4294-37c8-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>druid</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>b9ff84b8-08f1-338b-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>96eae765-63d6-3e19-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>c09e524c-c6df-3a6e-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>a168dbc2-b3d5-335a-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>a68fdd71-7380-3d23-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>a168dbc2-b3d5-335a-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>python</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>c7d86d43-bb97-36c4-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>aa4ccb33-479c-35f6-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>c7d86d43-bb97-36c4-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>0738ae63-10d9-34f1-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>b6a52cf6-99d6-3319-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>b41d05cb-4fb3-34f7-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>scala</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>c7d86d43-bb97-36c4-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>bd3fb11e-b04f-3a42-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>d0e129aa-f3bd-36ba-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>b41d05cb-4fb3-34f7-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>c56b4959-81d3-3075-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>eb9b1edc-0e76-319c-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>b87ea9d5-f38d-3866-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>cc16ab65-4006-365c-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <bends>
            <x>2730.8270263671875</x>
            <y>2447.527282242814</y>
          </bends>
          <bends>
            <x>2827.5318603515625</x>
            <y>2498.592223649064</y>
          </bends>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>4bfdfe30-bc0f-3833-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>SUCCESS</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>c09e524c-c6df-3a6e-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>d09379e2-578c-3f9a-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>4bfdfe30-bc0f-3833-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>aa553558-5b4b-3844-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>eff45cab-1bd4-32b0-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>5934e120-1ae7-3a58-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>75f57e5d-ad61-3455-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>f04dce55-7bfe-3288-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <bends>
            <x>3948.4185791015625</x>
            <y>992.8283076334394</y>
          </bends>
          <bends>
            <x>3951.874755859375</x>
            <y>2477.264404296875</y>
          </bends>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>4bfdfe30-bc0f-3833-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>failure</selectedRelationships>
          <selectedRelationships>not-found</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>94ef7477-d61f-3610-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>f20558d9-6969-372f-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>94ef7477-d61f-3610-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>5934e120-1ae7-3a58-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>f86182ed-f8d4-3cbf-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>75f57e5d-ad61-3455-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>a50f1af7-7507-3ff5-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>04474af3-4dfa-39df-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>0641db7d-eef7-3207-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>spark</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>b9ff84b8-08f1-338b-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>1c233de8-646c-3a95-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>4bfdfe30-bc0f-3833-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>Response</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>eb9b1edc-0e76-319c-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>1c866636-9d81-3639-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>e065217b-2bd8-3205-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>hive</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>b9ff84b8-08f1-338b-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>1eec51df-d2ce-33ae-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <bends>
            <x>3010.3587646484375</x>
            <y>2438.449157242814</y>
          </bends>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>4bfdfe30-bc0f-3833-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>FAIL</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>d0e129aa-f3bd-36ba-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>238998cc-5427-32df-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>b9ff84b8-08f1-338b-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>889010c7-5e2e-3c62-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>23bc1976-abd5-3786-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>0738ae63-10d9-34f1-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>0641db7d-eef7-3207-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>24bf3102-21be-36a3-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>aa553558-5b4b-3844-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>e065217b-2bd8-3205-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>2a1e8122-d60b-3a84-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>889010c7-5e2e-3c62-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>94ef7477-d61f-3610-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>3a001a7e-04b9-36ba-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <bends>
            <x>2033.013671875</x>
            <y>1957.6683955240644</y>
          </bends>
          <bends>
            <x>2031.7303466796875</x>
            <y>2530.017272477189</y>
          </bends>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>4bfdfe30-bc0f-3833-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>unmatched</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>c7d86d43-bb97-36c4-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>5111f140-dafa-3cb8-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>b87ea9d5-f38d-3866-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>029642b4-4294-37c8-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>597a6179-a571-3b67-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <bends>
            <x>2676.358642578125</x>
            <y>2435.449157242814</y>
          </bends>
          <bends>
            <x>2785.3587646484375</x>
            <y>2439.449157242814</y>
          </bends>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>4bfdfe30-bc0f-3833-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>FAIL</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>c09e524c-c6df-3a6e-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>5b1ee2e8-94f3-3248-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>a50f1af7-7507-3ff5-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>success</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>9eb9be3e-f925-3db7-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>60cc9245-6433-3add-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <bends>
            <x>3035.5777587890625</x>
            <y>2449.057555680314</y>
          </bends>
          <bends>
            <x>3068.6009521484375</x>
            <y>2496.941100602189</y>
          </bends>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>4bfdfe30-bc0f-3833-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>SUCCESS</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>d0e129aa-f3bd-36ba-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>610463f7-8d80-3b85-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <bends>
            <x>3946.73095703125</x>
            <y>791.3113403320312</y>
          </bends>
          <bends>
            <x>3951.4296875</x>
            <y>2520.476318359375</y>
          </bends>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>4bfdfe30-bc0f-3833-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>failure</selectedRelationships>
          <selectedRelationships>not-found</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>5934e120-1ae7-3a58-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <connections>
          <id>69b0f603-7f4c-3cd3-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
          <backPressureObjectThreshold>10000</backPressureObjectThreshold>
          <destination>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>695804bd-f47b-310e-0000-000000000000</id>
            <type>PROCESSOR</type>
          </destination>
          <flowFileExpiration>0 sec</flowFileExpiration>
          <labelIndex>1</labelIndex>
          <name></name>
          <selectedRelationships>R</selectedRelationships>
          <source>
            <groupId>5d55d9e2-265f-3585-0000-000000000000</groupId>
            <id>c7d86d43-bb97-36c4-0000-000000000000</id>
            <type>PROCESSOR</type>
          </source>
          <zIndex>0</zIndex>
        </connections>
        <processors>
          <id>889010c7-5e2e-3c62-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>3184.0992626778043</x>
            <y>1114.246985095877</y>
          </position>
          <bundle>
            <artifact>nifi-update-attribute-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Delete Attributes Expression</key>
                <value>
                  <name>Delete Attributes Expression</name>
                </value>
              </entry>
              <entry>
                <key>Store State</key>
                <value>
                  <name>Store State</name>
                </value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                  <name>Stateful Variables Initial Value</name>
                </value>
              </entry>
              <entry>
                <key>arrayCount</key>
                <value>
                  <name>arrayCount</name>
                </value>
              </entry>
              <entry>
                <key>function</key>
                <value>
                  <name>function</name>
                </value>
              </entry>
              <entry>
                <key>metricColumnName</key>
                <value>
                  <name>metricColumnName</name>
                </value>
              </entry>
              <entry>
                <key>tableName</key>
                <value>
                  <name>tableName</name>
                </value>
              </entry>
              <entry>
                <key>tagName</key>
                <value>
                  <name>tagName</name>
                </value>
              </entry>
              <entry>
                <key>tagNames</key>
                <value>
                  <name>tagNames</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Delete Attributes Expression</key>
              </entry>
              <entry>
                <key>Store State</key>
                <value>Do not store state</value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
              </entry>
              <entry>
                <key>arrayCount</key>
                <value>${tagMetaData:jsonPath('$.length()')}</value>
              </entry>
              <entry>
                <key>function</key>
                <value>${queryMetaData:jsonPath('$.function')}</value>
              </entry>
              <entry>
                <key>metricColumnName</key>
                <value>${queryMetaData:jsonPath('$.columnName')}</value>
              </entry>
              <entry>
                <key>tableName</key>
                <value>${queryMetaData:jsonPath('$.tableName')}</value>
              </entry>
              <entry>
                <key>tagName</key>
                <value>${tagMetaData:jsonPath('$[*].*.tagName')}</value>
              </entry>
              <entry>
                <key>tagNames</key>
                <value>${tagMetaData:jsonPath('$[*].*.tagName'):contains('['):ifElse(${tagMetaData:jsonPath('$[*].*.tagName')},${tagMetaData:jsonPath('$[*].*.tagName'):prepend('["'):append('"]')})}</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>ExtractAquiredQueryMetaData</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
        </processors>
        <processors>
          <id>94ef7477-d61f-3610-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>3183.2828194690137</x>
            <y>924.4524067552759</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Cache Entry Identifier</key>
                <value>
                  <name>Cache Entry Identifier</name>
                </value>
              </entry>
              <entry>
                <key>Distributed Cache Service</key>
                <value>
                  <identifiesControllerService>org.apache.nifi.distributed.cache.client.DistributedMapCacheClient</identifiesControllerService>
                  <name>Distributed Cache Service</name>
                </value>
              </entry>
              <entry>
                <key>Put Cache Value In Attribute</key>
                <value>
                  <name>Put Cache Value In Attribute</name>
                </value>
              </entry>
              <entry>
                <key>Max Length To Put In Attribute</key>
                <value>
                  <name>Max Length To Put In Attribute</name>
                </value>
              </entry>
              <entry>
                <key>Character Set</key>
                <value>
                  <name>Character Set</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Cache Entry Identifier</key>
                <value>${function:toLower():append(${granularity:toLower()})}</value>
              </entry>
              <entry>
                <key>Distributed Cache Service</key>
                <value>77410851-041c-3548-0000-000000000000</value>
              </entry>
              <entry>
                <key>Put Cache Value In Attribute</key>
                <value>queryMetaData</value>
              </entry>
              <entry>
                <key>Max Length To Put In Attribute</key>
                <value>256</value>
              </entry>
              <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>LookupQueryMetaFromMapCache</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>not-found</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.FetchDistributedMapCache</type>
        </processors>
        <processors>
          <id>9eb9be3e-f925-3db7-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>3177.8871838887344</x>
            <y>129.60112560468133</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Listening Port</key>
                <value>
                  <name>Listening Port</name>
                </value>
              </entry>
              <entry>
                <key>Hostname</key>
                <value>
                  <name>Hostname</name>
                </value>
              </entry>
              <entry>
                <key>SSL Context Service</key>
                <value>
                  <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                  <name>SSL Context Service</name>
                </value>
              </entry>
              <entry>
                <key>HTTP Context Map</key>
                <value>
                  <identifiesControllerService>org.apache.nifi.http.HttpContextMap</identifiesControllerService>
                  <name>HTTP Context Map</name>
                </value>
              </entry>
              <entry>
                <key>Allowed Paths</key>
                <value>
                  <name>Allowed Paths</name>
                </value>
              </entry>
              <entry>
                <key>Default URL Character Set</key>
                <value>
                  <name>Default URL Character Set</name>
                </value>
              </entry>
              <entry>
                <key>Allow GET</key>
                <value>
                  <name>Allow GET</name>
                </value>
              </entry>
              <entry>
                <key>Allow POST</key>
                <value>
                  <name>Allow POST</name>
                </value>
              </entry>
              <entry>
                <key>Allow PUT</key>
                <value>
                  <name>Allow PUT</name>
                </value>
              </entry>
              <entry>
                <key>Allow DELETE</key>
                <value>
                  <name>Allow DELETE</name>
                </value>
              </entry>
              <entry>
                <key>Allow HEAD</key>
                <value>
                  <name>Allow HEAD</name>
                </value>
              </entry>
              <entry>
                <key>Allow OPTIONS</key>
                <value>
                  <name>Allow OPTIONS</name>
                </value>
              </entry>
              <entry>
                <key>Additional HTTP Methods</key>
                <value>
                  <name>Additional HTTP Methods</name>
                </value>
              </entry>
              <entry>
                <key>Client Authentication</key>
                <value>
                  <name>Client Authentication</name>
                </value>
              </entry>
              <entry>
                <key>container-queue-size</key>
                <value>
                  <name>container-queue-size</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Listening Port</key>
                <value>8055</value>
              </entry>
              <entry>
                <key>Hostname</key>
              </entry>
              <entry>
                <key>SSL Context Service</key>
              </entry>
              <entry>
                <key>HTTP Context Map</key>
                <value>5dfa236d-a08f-324e-0000-000000000000</value>
              </entry>
              <entry>
                <key>Allowed Paths</key>
              </entry>
              <entry>
                <key>Default URL Character Set</key>
                <value>UTF-8</value>
              </entry>
              <entry>
                <key>Allow GET</key>
                <value>true</value>
              </entry>
              <entry>
                <key>Allow POST</key>
                <value>false</value>
              </entry>
              <entry>
                <key>Allow PUT</key>
                <value>false</value>
              </entry>
              <entry>
                <key>Allow DELETE</key>
                <value>false</value>
              </entry>
              <entry>
                <key>Allow HEAD</key>
                <value>false</value>
              </entry>
              <entry>
                <key>Allow OPTIONS</key>
                <value>false</value>
              </entry>
              <entry>
                <key>Additional HTTP Methods</key>
              </entry>
              <entry>
                <key>Client Authentication</key>
                <value>No Authentication</value>
              </entry>
              <entry>
                <key>container-queue-size</key>
                <value>50</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>HandleHttpRequest</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.HandleHttpRequest</type>
        </processors>
        <processors>
          <id>a168dbc2-b3d5-335a-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>2465.6052449967788</x>
            <y>2082.157867434057</y>
          </position>
          <bundle>
            <artifact>nifi-update-attribute-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <annotationData>&lt;criteria&gt;
    &lt;flowFilePolicy&gt;USE_CLONE&lt;/flowFilePolicy&gt;
    &lt;rules&gt;
        &lt;actions&gt;
            &lt;attribute&gt;code&lt;/attribute&gt;
            &lt;id&gt;c31c7d06-bc26-46c4-8973-802736ee4ebd&lt;/id&gt;
            &lt;value&gt;dataDF.show()
print ' '
print 'Python Script Success'
&lt;/value&gt;
        &lt;/actions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${http.request.uri:contains("/pytest")}&lt;/expression&gt;
            &lt;id&gt;32ad4e8c-f6cd-4555-8d7b-dd3969116ef5&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;id&gt;0003d021-28f1-4f7f-951b-d8f2494ee508&lt;/id&gt;
        &lt;name&gt;pytest&lt;/name&gt;
    &lt;/rules&gt;
&lt;/criteria&gt;</annotationData>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Delete Attributes Expression</key>
                <value>
                  <name>Delete Attributes Expression</name>
                </value>
              </entry>
              <entry>
                <key>Store State</key>
                <value>
                  <name>Store State</name>
                </value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                  <name>Stateful Variables Initial Value</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Delete Attributes Expression</key>
              </entry>
              <entry>
                <key>Store State</key>
                <value>Do not store state</value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>SelectSparkPythonFunction</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
        </processors>
        <processors>
          <id>a50f1af7-7507-3ff5-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>3177.1425049426807</x>
            <y>342.01699231001885</y>
          </position>
          <bundle>
            <artifact>nifi-update-attribute-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <annotationData>&lt;criteria&gt;
    &lt;flowFilePolicy&gt;USE_CLONE&lt;/flowFilePolicy&gt;
&lt;/criteria&gt;</annotationData>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Delete Attributes Expression</key>
                <value>
                  <name>Delete Attributes Expression</name>
                </value>
              </entry>
              <entry>
                <key>Store State</key>
                <value>
                  <name>Store State</name>
                </value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                  <name>Stateful Variables Initial Value</name>
                </value>
              </entry>
              <entry>
                <key>edate</key>
                <value>
                  <name>edate</name>
                </value>
              </entry>
              <entry>
                <key>expressionType</key>
                <value>
                  <name>expressionType</name>
                </value>
              </entry>
              <entry>
                <key>function</key>
                <value>
                  <name>function</name>
                </value>
              </entry>
              <entry>
                <key>granularity</key>
                <value>
                  <name>granularity</name>
                </value>
              </entry>
              <entry>
                <key>pedate</key>
                <value>
                  <name>pedate</name>
                </value>
              </entry>
              <entry>
                <key>psdate</key>
                <value>
                  <name>psdate</name>
                </value>
              </entry>
              <entry>
                <key>requestedFunction</key>
                <value>
                  <name>requestedFunction</name>
                </value>
              </entry>
              <entry>
                <key>requestedTag</key>
                <value>
                  <name>requestedTag</name>
                </value>
              </entry>
              <entry>
                <key>sdate</key>
                <value>
                  <name>sdate</name>
                </value>
              </entry>
              <entry>
                <key>tagColumnName</key>
                <value>
                  <name>tagColumnName</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Delete Attributes Expression</key>
              </entry>
              <entry>
                <key>Store State</key>
                <value>Do not store state</value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
              </entry>
              <entry>
                <key>edate</key>
                <value>${http.query.param.edate:replace("_"," ")}</value>
              </entry>
              <entry>
                <key>expressionType</key>
                <value>${http.query.param.exp:isNull():ifElse('scala', ${http.query.param.exp})}</value>
              </entry>
              <entry>
                <key>function</key>
                <value>${http.query.param.function}</value>
              </entry>
              <entry>
                <key>granularity</key>
                <value>${http.query.param.granularity}</value>
              </entry>
              <entry>
                <key>pedate</key>
                <value>${http.query.param.pedate:replace("_"," ")}</value>
              </entry>
              <entry>
                <key>psdate</key>
                <value>${http.query.param.psdate:replace("_"," ")}</value>
              </entry>
              <entry>
                <key>requestedFunction</key>
                <value>${http.query.param.function}</value>
              </entry>
              <entry>
                <key>requestedTag</key>
                <value>${http.query.param.tags}</value>
              </entry>
              <entry>
                <key>sdate</key>
                <value>${http.query.param.sdate:replace("_"," ")}</value>
              </entry>
              <entry>
                <key>tagColumnName</key>
                <value>function</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>ExtractQueryParameters</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
        </processors>
        <processors>
          <id>aa553558-5b4b-3844-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>3184.5728763253064</x>
            <y>2269.448434396999</y>
          </position>
          <bundle>
            <artifact>nifi-hive-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>0</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Hive Database Connection Pooling Service</key>
                <value>
                  <identifiesControllerService>org.apache.nifi.dbcp.hive.HiveDBCPService</identifiesControllerService>
                  <name>Hive Database Connection Pooling Service</name>
                </value>
              </entry>
              <entry>
                <key>hive-query</key>
                <value>
                  <name>hive-query</name>
                </value>
              </entry>
              <entry>
                <key>hive-output-format</key>
                <value>
                  <name>hive-output-format</name>
                </value>
              </entry>
              <entry>
                <key>csv-header</key>
                <value>
                  <name>csv-header</name>
                </value>
              </entry>
              <entry>
                <key>csv-alt-header</key>
                <value>
                  <name>csv-alt-header</name>
                </value>
              </entry>
              <entry>
                <key>csv-delimiter</key>
                <value>
                  <name>csv-delimiter</name>
                </value>
              </entry>
              <entry>
                <key>csv-quote</key>
                <value>
                  <name>csv-quote</name>
                </value>
              </entry>
              <entry>
                <key>csv-escape</key>
                <value>
                  <name>csv-escape</name>
                </value>
              </entry>
              <entry>
                <key>hive-charset</key>
                <value>
                  <name>hive-charset</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Hive Database Connection Pooling Service</key>
                <value>6c3f1770-13a1-37fa-0000-000000000000</value>
              </entry>
              <entry>
                <key>hive-query</key>
                <value>${SQLString}</value>
              </entry>
              <entry>
                <key>hive-output-format</key>
                <value>CSV</value>
              </entry>
              <entry>
                <key>csv-header</key>
                <value>true</value>
              </entry>
              <entry>
                <key>csv-alt-header</key>
              </entry>
              <entry>
                <key>csv-delimiter</key>
                <value>,</value>
              </entry>
              <entry>
                <key>csv-quote</key>
                <value>true</value>
              </entry>
              <entry>
                <key>csv-escape</key>
                <value>true</value>
              </entry>
              <entry>
                <key>hive-charset</key>
                <value>UTF-8</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>EVENT_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>ExecuteSQLHive</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.hive.SelectHiveQL</type>
        </processors>
        <processors>
          <id>b41d05cb-4fb3-34f7-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>2824.5028280045913</x>
            <y>2082.162017824682</y>
          </position>
          <bundle>
            <artifact>nifi-update-attribute-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <annotationData>&lt;criteria&gt;
    &lt;flowFilePolicy&gt;USE_CLONE&lt;/flowFilePolicy&gt;
    &lt;rules&gt;
        &lt;actions&gt;
            &lt;attribute&gt;code&lt;/attribute&gt;
            &lt;id&gt;955d4f11-f676-4eeb-b0ac-bc8c8db7b8aa&lt;/id&gt;
            &lt;value&gt;val p = dataDF.select(\"timestamp\",\"value\").rdd.map{
    row =&amp;gt; val dateFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\"); 
    val cal = Calendar.getInstance(); 
    cal.setTime(dateFormat.parse(row(0).asInstanceOf[String])); 
    val millis = cal.getTimeInMillis(); (millis,row(1).asInstanceOf[Double])
    }.collect.toList; 

val s = dataDF.select(\"timestamp\",\"value\").filter($\"timestamp\"&amp;gt;\"${psdate}\"&amp;amp;&amp;amp;$\"timestamp\"&amp;lt;=\"${pedate}\").rdd.map{row =&amp;gt; val dateFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\"); 
    val cal = Calendar.getInstance(); 
    cal.setTime(dateFormat.parse(row(0).asInstanceOf[String])); 
    val millis = cal.getTimeInMillis(); 
    (millis,row(1).asInstanceOf[Double])}.collect.toList;

val pSlide = p.sliding(2,1).toArray;
val pRatioArr = pSlide.map( x =&amp;gt; (x(0)._1, x(0)._2, x(0)._2 / x(1)._2) );
val slideR = s.sliding(2,1).toArray;
val ratioRArr = slideR.map(x=&amp;gt; (x(0)._1, x(0)._2, x(0)._2 / x(1)._2) );
val sameLength = ratioRArr.sliding(8,1).toArray; 

val deltaArr = sameLength.map {sRatioArr =&amp;gt; var deltas = Array[Tuple4[Long,Double,Double,Double]](); 
    var count = 0; 
    while (count &amp;lt; sRatioArr.length) { 
        deltas = deltas :+ (
            sRatioArr(count)._1, 
            sRatioArr(count)._2, 
            sRatioArr(count)._3, 
            Math.abs(sRatioArr(count)._3 - pRatioArr(count)._3)
        ); 
        count = count+1;
    }; 
    deltas; 
};
  
val scored = deltaArr.map {
    arr =&amp;gt;
    ( arr, arr
    .map {
        case (time, value, ratio, diff) =&amp;gt; diff
    }.sum / arr.length )
};

val matches = scored.filter{ x =&amp;gt;  (x._2 &amp;lt;= .65) };

matches.foreach(println);
 
case class TS (time: Long, value: Double);
 
val tsArray = matches.map {
    tup =&amp;gt; tup._1.map {
        case (time, value, ratio, diff) =&amp;gt; TS(time, value)
   }
};

//println(\"********************\")
tsArray.foreach{x =&amp;gt; print(\"[\"); 
x.map{x =&amp;gt; print(\"[\"+x.time+\",\"+x.value+\"],\") }; 
print(\"],\"); }
//println(\"********************\")
&lt;/value&gt;
        &lt;/actions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${http.request.uri:contains("/pattern")}&lt;/expression&gt;
            &lt;id&gt;4befafb1-8d7f-4382-8fd3-12c013b96fae&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;id&gt;9fa26473-fd96-4b3d-a67e-f3bf0191c527&lt;/id&gt;
        &lt;name&gt;pattern&lt;/name&gt;
    &lt;/rules&gt;
    &lt;rules&gt;
        &lt;actions&gt;
            &lt;attribute&gt;code&lt;/attribute&gt;
            &lt;id&gt;e4b63b60-24f1-48e2-8665-df61c9b99d88&lt;/id&gt;
            &lt;value&gt;println(\"Scala Job Success\");
dataDF.show;&lt;/value&gt;
        &lt;/actions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${http.request.uri:contains("/projection")}&lt;/expression&gt;
            &lt;id&gt;567a8495-2213-4a6a-9385-2cab683964e9&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;id&gt;4a66c162-5fb1-4e8a-a98a-fd40845429c1&lt;/id&gt;
        &lt;name&gt;projection&lt;/name&gt;
    &lt;/rules&gt;
    &lt;rules&gt;
        &lt;actions&gt;
            &lt;attribute&gt;code&lt;/attribute&gt;
            &lt;id&gt;600765ec-100c-4b44-8ed9-c4903c48ee86&lt;/id&gt;
            &lt;value&gt;dataDF.show&lt;/value&gt;
        &lt;/actions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${http.request.uri:contains("/scalaTest")}&lt;/expression&gt;
            &lt;id&gt;b9517bc3-7f6d-460a-816e-91567837cffd&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;id&gt;e9044882-2d02-4b18-8dcb-b90489c0847d&lt;/id&gt;
        &lt;name&gt;scalaTest&lt;/name&gt;
    &lt;/rules&gt;
&lt;/criteria&gt;</annotationData>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Delete Attributes Expression</key>
                <value>
                  <name>Delete Attributes Expression</name>
                </value>
              </entry>
              <entry>
                <key>Store State</key>
                <value>
                  <name>Store State</name>
                </value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                  <name>Stateful Variables Initial Value</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Delete Attributes Expression</key>
              </entry>
              <entry>
                <key>Store State</key>
                <value>Do not store state</value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>SelectSparkScalaFunction</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
        </processors>
        <processors>
          <id>b87ea9d5-f38d-3866-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>3581.6337915668846</x>
            <y>1706.6210141055578</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Regular Expression</key>
                <value>
                  <name>Regular Expression</name>
                </value>
              </entry>
              <entry>
                <key>Replacement Value</key>
                <value>
                  <name>Replacement Value</name>
                </value>
              </entry>
              <entry>
                <key>Character Set</key>
                <value>
                  <name>Character Set</name>
                </value>
              </entry>
              <entry>
                <key>Maximum Buffer Size</key>
                <value>
                  <name>Maximum Buffer Size</name>
                </value>
              </entry>
              <entry>
                <key>Replacement Strategy</key>
                <value>
                  <name>Replacement Strategy</name>
                </value>
              </entry>
              <entry>
                <key>Evaluation Mode</key>
                <value>
                  <name>Evaluation Mode</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Regular Expression</key>
                <value>.</value>
              </entry>
              <entry>
                <key>Replacement Value</key>
                <value>{"queryType":"select","dataSource":"${tableName}","intervals":["${sdate}/${edate}"],"granularity":"${granularity}","dimensions":["${tagColumnName}"],"metrics":["${metricColumnName}"],"filter": {"type": "selector","dimension":"${tagColumnName}","value":"${tagName}"},"pagingSpec":{"pagingIdentifiers":{},"threshold":5}}</value>
              </entry>
              <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
              </entry>
              <entry>
                <key>Maximum Buffer Size</key>
                <value>1 MB</value>
              </entry>
              <entry>
                <key>Replacement Strategy</key>
                <value>Always Replace</value>
              </entry>
              <entry>
                <key>Evaluation Mode</key>
                <value>Entire text</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>PrepareDruidQuery</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.ReplaceText</type>
        </processors>
        <processors>
          <id>b9ff84b8-08f1-338b-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>3181.3688656357</x>
            <y>1305.3494574709991</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Routing Strategy</key>
                <value>
                  <name>Routing Strategy</name>
                </value>
              </entry>
              <entry>
                <key>druid</key>
                <value>
                  <name>druid</name>
                </value>
              </entry>
              <entry>
                <key>hive</key>
                <value>
                  <name>hive</name>
                </value>
              </entry>
              <entry>
                <key>spark</key>
                <value>
                  <name>spark</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Routing Strategy</key>
                <value>Route to Property name</value>
              </entry>
              <entry>
                <key>druid</key>
                <value>${http.request.uri:contains("/druid/")}</value>
              </entry>
              <entry>
                <key>hive</key>
                <value>${http.request.uri:contains("/hive/")}</value>
              </entry>
              <entry>
                <key>spark</key>
                <value>${http.request.uri:contains("/spark/")}</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>SelectQueryEngine</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>druid</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>hive</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>spark</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>unmatched</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
        </processors>
        <processors>
          <id>c09e524c-c6df-3a6e-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>2465.3586699906723</x>
            <y>2269.4490874543926</y>
          </position>
          <bundle>
            <artifact>nifi-livy-bundle-nar</artifact>
            <group>default</group>
            <version>unversioned</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>livy_controller_service</key>
                <value>
                  <identifiesControllerService>com.hortonworks.nifi.controller.api.LivySessionService</identifiesControllerService>
                  <name>livy_controller_service</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>livy_controller_service</key>
                <value>2a245a60-23f2-3db8-0000-000000000000</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>2 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>ExecuteSparkInteractivePython</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>FAIL</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>SUCCESS</name>
          </relationships>
          <style></style>
          <type>com.hortonworks.nifi.processors.ExecuteSparkInteractive</type>
        </processors>
        <processors>
          <id>c7d86d43-bb97-36c4-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>2464.6150106217788</x>
            <y>1894.157867434057</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Routing Strategy</key>
                <value>
                  <name>Routing Strategy</name>
                </value>
              </entry>
              <entry>
                <key>python</key>
                <value>
                  <name>python</name>
                </value>
              </entry>
              <entry>
                <key>R</key>
                <value>
                  <name>R</name>
                </value>
              </entry>
              <entry>
                <key>scala</key>
                <value>
                  <name>scala</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Routing Strategy</key>
                <value>Route to Property name</value>
              </entry>
              <entry>
                <key>python</key>
                <value>${http.request.uri:contains("/python/")}</value>
              </entry>
              <entry>
                <key>R</key>
                <value>${http.request.uri:contains("/R/")}</value>
              </entry>
              <entry>
                <key>scala</key>
                <value>${http.request.uri:contains("/scala/")}</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>SelectSparkSessionType</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>python</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>R</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>scala</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>unmatched</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
        </processors>
        <processors>
          <id>d0e129aa-f3bd-36ba-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>2824.07794373464</x>
            <y>2268.9292056884588</y>
          </position>
          <bundle>
            <artifact>nifi-livy-bundle-nar</artifact>
            <group>default</group>
            <version>unversioned</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>livy_controller_service</key>
                <value>
                  <identifiesControllerService>com.hortonworks.nifi.controller.api.LivySessionService</identifiesControllerService>
                  <name>livy_controller_service</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>livy_controller_service</key>
                <value>6b0c7f16-2125-302c-0000-000000000000</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>2 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>ExecuteSparkInteractiveScala</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>FAIL</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>SUCCESS</name>
          </relationships>
          <style></style>
          <type>com.hortonworks.nifi.processors.ExecuteSparkInteractive</type>
        </processors>
        <processors>
          <id>e065217b-2bd8-3205-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>3181.256942252776</x>
            <y>1508.317460416092</y>
          </position>
          <bundle>
            <artifact>nifi-update-attribute-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <annotationData>&lt;criteria&gt;
    &lt;flowFilePolicy&gt;USE_CLONE&lt;/flowFilePolicy&gt;
    &lt;rules&gt;
        &lt;actions&gt;
            &lt;attribute&gt;SQLString&lt;/attribute&gt;
            &lt;id&gt;6df707b9-3e91-4fd1-8415-ed4a6f2757a4&lt;/id&gt;
            &lt;value&gt;SELECT a.period, AVG(a.${metricColumnName}) OVER (ROWS BETWEEN 10 PRECEDING AND CURRENT ROW) 
FROM (
 SELECT `__time` AS period, `${tagColumnName}` AS func, 
 SUM(${metricColumnName}) as ${metricColumnName} 
 FROM ${tableName} 
 WHERE `${tagColumnName}` = '${tagName}' 
 AND `__time` &amp;gt;= '${sdate}' 
 AND `__time` &amp;lt;= '${edate}' 
 GROUP BY `${tagColumnName}`, `__time`) AS a&lt;/value&gt;
        &lt;/actions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${requestedFunction:equals('mov_avg')}&lt;/expression&gt;
            &lt;id&gt;4c227bf6-63e0-4d31-b6ce-b9cf81466f22&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${granularity:toLower():equals('none')}&lt;/expression&gt;
            &lt;id&gt;13ea167a-d740-4d09-8c5a-06245bee535f&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;id&gt;011fa7da-f2fe-422b-af23-1ed8e3dfe942&lt;/id&gt;
        &lt;name&gt;mov_avg_raw&lt;/name&gt;
    &lt;/rules&gt;
    &lt;rules&gt;
        &lt;actions&gt;
            &lt;attribute&gt;SQLString&lt;/attribute&gt;
            &lt;id&gt;5383e7d9-9694-4cc6-85bb-e0028b8b69bc&lt;/id&gt;
            &lt;value&gt;SELECT a.period, AVG(a.${metricColumnName}) OVER (ROWS BETWEEN 10 PRECEDING AND CURRENT ROW) 
FROM (
SELECT floor_${granularity}(`__time`) AS period, 
`${tagColumnName}` AS func, SUM(${metricColumnName}) as ${metricColumnName} 
FROM ${tableName} 
WHERE `${tagColumnName}` = '${tagName}' 
AND `__time` &amp;gt;= '${sdate}' 
AND `__time` &amp;lt;= '${edate}' 
GROUP BY `${tagColumnName}`, floor_${granularity}(`__time`)) as a&lt;/value&gt;
        &lt;/actions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${granularity:toLower():equals('none'):not()}&lt;/expression&gt;
            &lt;id&gt;6e84b280-2e68-4f68-b269-8a69d92537ff&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${requestedFunction:equals('mov_avg')}&lt;/expression&gt;
            &lt;id&gt;95ebaf0f-123b-4efd-854a-e90fbcf3bb19&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;id&gt;c6169ea1-325b-4184-b230-a2806a408e05&lt;/id&gt;
        &lt;name&gt;mov_avg&lt;/name&gt;
    &lt;/rules&gt;
    &lt;rules&gt;
        &lt;actions&gt;
            &lt;attribute&gt;SQLString&lt;/attribute&gt;
            &lt;id&gt;e28b7f72-c478-4f1b-b007-343d302d2140&lt;/id&gt;
            &lt;value&gt;SELECT `__time`, ${metricColumnName} FROM ${tableName} WHERE `${tagColumnName}` = '${tagName}' and `__time` &amp;gt;= '${sdate}' and `__time` &amp;lt;= '${edate}'&lt;/value&gt;
        &lt;/actions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${granularity:toLower():equals('none')}&lt;/expression&gt;
            &lt;id&gt;db6b5c3e-76cd-4bed-8199-ce99d2860ee9&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${requestedFunction:equals('sum'):or(${requestedFunction:equals('min'):or(${requestedFunction:equals('max'):or(${requestedFunction:equals('avg')})})})}&lt;/expression&gt;
            &lt;id&gt;a5d3aebf-a0f0-49aa-bc49-c066382526d6&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;id&gt;255bc62a-c3ac-42cc-a875-b49dc3ffa8e9&lt;/id&gt;
        &lt;name&gt;base_function_raw&lt;/name&gt;
    &lt;/rules&gt;
    &lt;rules&gt;
        &lt;actions&gt;
            &lt;attribute&gt;SQLString&lt;/attribute&gt;
            &lt;id&gt;e4a51e4e-5a5a-4060-907d-3e662a9fd77e&lt;/id&gt;
            &lt;value&gt;SELECT floor_${granularity}(`__time`) AS `time`,
${function}(${metricColumnName}) AS `${metricColumnName}`,
`${tagColumnName}` AS `${tagColumnName}`
FROM ${tableName} 
WHERE ${tagNames:replace('[','(`${tagColumnName}`='):replace(',',' OR `${tagColumnName}`='):replace(']',')'):replace('"','\'')}
AND `__time` &amp;gt;= '${sdate}' 
AND `__time` &amp;lt;= '${edate}' 
GROUP BY floor_${granularity}(`__time`), `${tagColumnName}`&lt;/value&gt;
        &lt;/actions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${granularity:toLower():equals('none'):not()}&lt;/expression&gt;
            &lt;id&gt;12717fa9-992f-40cb-82ee-c2b1bd75d188&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${requestedFunction:equals('sum'):or(${requestedFunction:equals('min'):or(${requestedFunction:equals('max'):or(${requestedFunction:equals('avg')})})})}&lt;/expression&gt;
            &lt;id&gt;ecfb22a2-8715-4cf1-b86e-e75c7aa6e393&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;id&gt;d4d5ad5f-99e5-41de-8ce3-8c0587634bd9&lt;/id&gt;
        &lt;name&gt;base_function&lt;/name&gt;
    &lt;/rules&gt;
&lt;/criteria&gt;</annotationData>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Delete Attributes Expression</key>
                <value>
                  <name>Delete Attributes Expression</name>
                </value>
              </entry>
              <entry>
                <key>Store State</key>
                <value>
                  <name>Store State</name>
                </value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                  <name>Stateful Variables Initial Value</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Delete Attributes Expression</key>
              </entry>
              <entry>
                <key>Store State</key>
                <value>Do not store state</value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>BuildSQLFromQueryMetaData</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
        </processors>
        <processors>
          <id>eb9b1edc-0e76-319c-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>3582.0219570314785</x>
            <y>2268.75164416196</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>HTTP Method</key>
                <value>
                  <name>HTTP Method</name>
                </value>
              </entry>
              <entry>
                <key>Remote URL</key>
                <value>
                  <name>Remote URL</name>
                </value>
              </entry>
              <entry>
                <key>SSL Context Service</key>
                <value>
                  <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
                  <name>SSL Context Service</name>
                </value>
              </entry>
              <entry>
                <key>Connection Timeout</key>
                <value>
                  <name>Connection Timeout</name>
                </value>
              </entry>
              <entry>
                <key>Read Timeout</key>
                <value>
                  <name>Read Timeout</name>
                </value>
              </entry>
              <entry>
                <key>Include Date Header</key>
                <value>
                  <name>Include Date Header</name>
                </value>
              </entry>
              <entry>
                <key>Follow Redirects</key>
                <value>
                  <name>Follow Redirects</name>
                </value>
              </entry>
              <entry>
                <key>Attributes to Send</key>
                <value>
                  <name>Attributes to Send</name>
                </value>
              </entry>
              <entry>
                <key>Basic Authentication Username</key>
                <value>
                  <name>Basic Authentication Username</name>
                </value>
              </entry>
              <entry>
                <key>Basic Authentication Password</key>
                <value>
                  <name>Basic Authentication Password</name>
                </value>
              </entry>
              <entry>
                <key>Proxy Host</key>
                <value>
                  <name>Proxy Host</name>
                </value>
              </entry>
              <entry>
                <key>Proxy Port</key>
                <value>
                  <name>Proxy Port</name>
                </value>
              </entry>
              <entry>
                <key>invokehttp-proxy-user</key>
                <value>
                  <name>invokehttp-proxy-user</name>
                </value>
              </entry>
              <entry>
                <key>invokehttp-proxy-password</key>
                <value>
                  <name>invokehttp-proxy-password</name>
                </value>
              </entry>
              <entry>
                <key>Put Response Body In Attribute</key>
                <value>
                  <name>Put Response Body In Attribute</name>
                </value>
              </entry>
              <entry>
                <key>Max Length To Put In Attribute</key>
                <value>
                  <name>Max Length To Put In Attribute</name>
                </value>
              </entry>
              <entry>
                <key>Digest Authentication</key>
                <value>
                  <name>Digest Authentication</name>
                </value>
              </entry>
              <entry>
                <key>Always Output Response</key>
                <value>
                  <name>Always Output Response</name>
                </value>
              </entry>
              <entry>
                <key>Trusted Hostname</key>
                <value>
                  <name>Trusted Hostname</name>
                </value>
              </entry>
              <entry>
                <key>Add Response Headers to Request</key>
                <value>
                  <name>Add Response Headers to Request</name>
                </value>
              </entry>
              <entry>
                <key>Content-Type</key>
                <value>
                  <name>Content-Type</name>
                </value>
              </entry>
              <entry>
                <key>send-message-body</key>
                <value>
                  <name>send-message-body</name>
                </value>
              </entry>
              <entry>
                <key>Use Chunked Encoding</key>
                <value>
                  <name>Use Chunked Encoding</name>
                </value>
              </entry>
              <entry>
                <key>Penalize on "No Retry"</key>
                <value>
                  <name>Penalize on "No Retry"</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>HTTP Method</key>
                <value>POST</value>
              </entry>
              <entry>
                <key>Remote URL</key>
                <value>http://historian02-464-1-0.field.hortonworks.com:8082/druid/v2</value>
              </entry>
              <entry>
                <key>SSL Context Service</key>
              </entry>
              <entry>
                <key>Connection Timeout</key>
                <value>5 secs</value>
              </entry>
              <entry>
                <key>Read Timeout</key>
                <value>15 secs</value>
              </entry>
              <entry>
                <key>Include Date Header</key>
                <value>True</value>
              </entry>
              <entry>
                <key>Follow Redirects</key>
                <value>True</value>
              </entry>
              <entry>
                <key>Attributes to Send</key>
              </entry>
              <entry>
                <key>Basic Authentication Username</key>
              </entry>
              <entry>
                <key>Basic Authentication Password</key>
              </entry>
              <entry>
                <key>Proxy Host</key>
              </entry>
              <entry>
                <key>Proxy Port</key>
              </entry>
              <entry>
                <key>invokehttp-proxy-user</key>
              </entry>
              <entry>
                <key>invokehttp-proxy-password</key>
              </entry>
              <entry>
                <key>Put Response Body In Attribute</key>
              </entry>
              <entry>
                <key>Max Length To Put In Attribute</key>
                <value>256</value>
              </entry>
              <entry>
                <key>Digest Authentication</key>
                <value>false</value>
              </entry>
              <entry>
                <key>Always Output Response</key>
                <value>false</value>
              </entry>
              <entry>
                <key>Trusted Hostname</key>
              </entry>
              <entry>
                <key>Add Response Headers to Request</key>
                <value>false</value>
              </entry>
              <entry>
                <key>Content-Type</key>
                <value>${mime.type}</value>
              </entry>
              <entry>
                <key>send-message-body</key>
                <value>true</value>
              </entry>
              <entry>
                <key>Use Chunked Encoding</key>
                <value>true</value>
              </entry>
              <entry>
                <key>Penalize on "No Retry"</key>
                <value>false</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>ExecuteDruidQuery</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>Failure</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>No Retry</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>Original</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>Response</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>Retry</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.InvokeHTTP</type>
        </processors>
        <processors>
          <id>029642b4-4294-37c8-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>3584.1549531792616</x>
            <y>1508.6949599413047</y>
          </position>
          <bundle>
            <artifact>nifi-update-attribute-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Delete Attributes Expression</key>
                <value>
                  <name>Delete Attributes Expression</name>
                </value>
              </entry>
              <entry>
                <key>Store State</key>
                <value>
                  <name>Store State</name>
                </value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                  <name>Stateful Variables Initial Value</name>
                </value>
              </entry>
              <entry>
                <key>druidBrokerHost</key>
                <value>
                  <name>druidBrokerHost</name>
                </value>
              </entry>
              <entry>
                <key>druidBrokerPort</key>
                <value>
                  <name>druidBrokerPort</name>
                </value>
              </entry>
              <entry>
                <key>edate</key>
                <value>
                  <name>edate</name>
                </value>
              </entry>
              <entry>
                <key>mime.type</key>
                <value>
                  <name>mime.type</name>
                </value>
              </entry>
              <entry>
                <key>pedate</key>
                <value>
                  <name>pedate</name>
                </value>
              </entry>
              <entry>
                <key>psdate</key>
                <value>
                  <name>psdate</name>
                </value>
              </entry>
              <entry>
                <key>sdate</key>
                <value>
                  <name>sdate</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Delete Attributes Expression</key>
              </entry>
              <entry>
                <key>Store State</key>
                <value>Do not store state</value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
              </entry>
              <entry>
                <key>druidBrokerHost</key>
                <value>historian02-464-1-0.field.hortonworks.com</value>
              </entry>
              <entry>
                <key>druidBrokerPort</key>
                <value>8082</value>
              </entry>
              <entry>
                <key>edate</key>
                <value>${edate:replace(' ','T')}</value>
              </entry>
              <entry>
                <key>mime.type</key>
                <value>application/json</value>
              </entry>
              <entry>
                <key>pedate</key>
                <value>${pedate:replace(' ','T')}</value>
              </entry>
              <entry>
                <key>psdate</key>
                <value>${psdate:replace(' ','T')}</value>
              </entry>
              <entry>
                <key>sdate</key>
                <value>${sdate:replace(' ','T')}</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>PrepareParameters</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
        </processors>
        <processors>
          <id>0641db7d-eef7-3207-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>2466.476373127067</x>
            <y>1507.6434130254454</y>
          </position>
          <bundle>
            <artifact>nifi-update-attribute-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Delete Attributes Expression</key>
                <value>
                  <name>Delete Attributes Expression</name>
                </value>
              </entry>
              <entry>
                <key>Store State</key>
                <value>
                  <name>Store State</name>
                </value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                  <name>Stateful Variables Initial Value</name>
                </value>
              </entry>
              <entry>
                <key>druidBrokerHost</key>
                <value>
                  <name>druidBrokerHost</name>
                </value>
              </entry>
              <entry>
                <key>druidBrokerPort</key>
                <value>
                  <name>druidBrokerPort</name>
                </value>
              </entry>
              <entry>
                <key>edate</key>
                <value>
                  <name>edate</name>
                </value>
              </entry>
              <entry>
                <key>pedate</key>
                <value>
                  <name>pedate</name>
                </value>
              </entry>
              <entry>
                <key>prefetch</key>
                <value>
                  <name>prefetch</name>
                </value>
              </entry>
              <entry>
                <key>psdate</key>
                <value>
                  <name>psdate</name>
                </value>
              </entry>
              <entry>
                <key>sdate</key>
                <value>
                  <name>sdate</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Delete Attributes Expression</key>
              </entry>
              <entry>
                <key>Store State</key>
                <value>Do not store state</value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
              </entry>
              <entry>
                <key>druidBrokerHost</key>
                <value>ip-172-31-73-181.ec2.internal</value>
              </entry>
              <entry>
                <key>druidBrokerPort</key>
                <value>8082</value>
              </entry>
              <entry>
                <key>edate</key>
                <value>${edate:replace(' ','T')}</value>
              </entry>
              <entry>
                <key>pedate</key>
                <value>${pedate:replace(' ','T')}</value>
              </entry>
              <entry>
                <key>prefetch</key>
                <value>true</value>
              </entry>
              <entry>
                <key>psdate</key>
                <value>${psdate:replace(' ','T')}</value>
              </entry>
              <entry>
                <key>sdate</key>
                <value>${sdate:replace(' ','T')}</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>SparkPrepareParameters</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
        </processors>
        <processors>
          <id>0738ae63-10d9-34f1-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>2467.0080347985486</x>
            <y>1706.4719975123837</y>
          </position>
          <bundle>
            <artifact>nifi-update-attribute-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <annotationData>&lt;criteria&gt;
    &lt;flowFilePolicy&gt;USE_CLONE&lt;/flowFilePolicy&gt;
    &lt;rules&gt;
        &lt;actions&gt;
            &lt;attribute&gt;prefetchCode&lt;/attribute&gt;
            &lt;id&gt;9bfc79d4-3595-4b66-a70c-c575f931a713&lt;/id&gt;
            &lt;value&gt;import java.util.Date;
import java.util.Calendar;
import java.text.SimpleDateFormat;
import scala.io.Source; 
import org.apache.http.client.methods._; 
import org.apache.http.impl.client.DefaultHttpClient; 
import org.apache.http.entity.StringEntity; 
import scala.collection.mutable; 
val requestQuery = new HttpPost(\"http://${druidBrokerHost}:${druidBrokerPort}/druid/v2\"); 
requestQuery.setHeader(\"Content-Type\",\"application/json\"); 
requestQuery.setEntity(new StringEntity(\"{\\\"queryType\\\":\\\"select\\\",\\\"dataSource\\\":\\\"${tableName}\\\",\\\"intervals\\\":[\\\"${sdate}/${edate}\\\"],\\\"granularity\\\":\\\"${granularity}\\\",\\\"dimensions\\\":[\\\"${tagColumnName}\\\"],\\\"metrics\\\":[\\\"${metricColumnName}\\\"],\\\"filter\\\": {\\\"type\\\": \\\"selector\\\",\\\"dimension\\\":\\\"${tagColumnName}\\\",\\\"value\\\":\\\"${tagName}\\\"},\\\"pagingSpec\\\":{\\\"pagingIdentifiers\\\":{},\\\"threshold\\\":5}}\")); 
val httpClient = new DefaultHttpClient(); 
val httpResponse = httpClient.execute(requestQuery); 
val content = Option(httpResponse.getEntity()).map{ entity =&amp;gt; val inputStream = entity.getContent(); try {Source.fromInputStream(inputStream).getLines.mkString} finally {inputStream.close();httpClient.getConnectionManager().shutdown();}}.getOrElse(\"\");
val contentRDD = sc.parallelize(Seq(content));
val contentDF = spark.read.json(contentRDD).select(\"result.events.event\");
val dataDF = contentDF.withColumn(\"function\", explode(contentDF(\"event.function\"))).withColumn(\"timestamp\", explode(contentDF(\"event.timestamp\"))).withColumn(\"value\", explode(contentDF(\"event.${metricColumnName}\"))).drop(\"event\");&lt;/value&gt;
        &lt;/actions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${prefetch:equals('true')}&lt;/expression&gt;
            &lt;id&gt;de585174-e662-4856-964c-de046c1e6623&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${http.request.uri:contains("/scala/")}&lt;/expression&gt;
            &lt;id&gt;b4d54d61-b6a1-4560-beb0-9413af66a736&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;id&gt;87dd4098-d360-4079-a1ea-71e343ec3e2b&lt;/id&gt;
        &lt;name&gt;prefetchScala&lt;/name&gt;
    &lt;/rules&gt;
    &lt;rules&gt;
        &lt;actions&gt;
            &lt;attribute&gt;prefetchCode&lt;/attribute&gt;
            &lt;id&gt;d211f28b-f552-418e-a16c-3827b197aebe&lt;/id&gt;
            &lt;value&gt;import json, pprint, requests, textwrap
druidUrl = 'http://${druidBrokerHost}:${druidBrokerPort}/druid/v2'
headers = {'Content-Type':'application/json','X-Requested-by':'User'}
requestData = \"{\\\"queryType\\\":\\\"select\\\",\\\"dataSource\\\":\\\"${tableName}\\\",\\\"intervals\\\":[\\\"${sdate}/${edate}\\\"],\\\"granularity\\\":\\\"${granularity}\\\",\\\"dimensions\\\":[\\\"${tagColumnName}\\\"],\\\"metrics\\\":[\\\"${metricColumnName}\\\"],\\\"filter\\\": {\\\"type\\\": \\\"selector\\\",\\\"dimension\\\":\\\"${tagColumnName}\\\",\\\"value\\\":\\\"${tagName}\\\"},\\\"pagingSpec\\\":{\\\"pagingIdentifiers\\\":{},\\\"threshold\\\":5}}\"\ncontent = requests.post(druidUrl, headers=headers, data=requestData).json()
contentRDD = sc.parallelize(content)
dataDF = spark.read.json(contentRDD.map(lambda x: x['result']['events']).flatMap(lambda x: map(lambda y: y['event'],x)).map(lambda x: json.dumps(x)))
&lt;/value&gt;
        &lt;/actions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${prefetch:equals('true')}&lt;/expression&gt;
            &lt;id&gt;b776209d-01ba-4f7a-82e3-01e3a4d87749&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${http.request.uri:contains("/python/")}&lt;/expression&gt;
            &lt;id&gt;8193eb88-74ff-4b8d-bc66-def70e9260f9&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;id&gt;5ece2b51-c200-46dc-b384-dfb9782bb495&lt;/id&gt;
        &lt;name&gt;prefetchPython&lt;/name&gt;
    &lt;/rules&gt;
    &lt;rules&gt;
        &lt;actions&gt;
            &lt;attribute&gt;prefetchCode&lt;/attribute&gt;
            &lt;id&gt;81594357-ab0b-4b7e-9e97-c6b26775210d&lt;/id&gt;
            &lt;value&gt;&lt;/value&gt;
        &lt;/actions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${prefetch:equals('true')}&lt;/expression&gt;
            &lt;id&gt;5c26cbe1-e684-431b-9c3c-65af21c50d47&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${http.request.uri:contains("/R/")}&lt;/expression&gt;
            &lt;id&gt;18555388-afb8-4016-8135-6d1d137bd1c0&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;id&gt;bab10abd-d29b-467c-8ca8-09a21796fdee&lt;/id&gt;
        &lt;name&gt;prefetchR&lt;/name&gt;
    &lt;/rules&gt;
&lt;/criteria&gt;</annotationData>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Delete Attributes Expression</key>
                <value>
                  <name>Delete Attributes Expression</name>
                </value>
              </entry>
              <entry>
                <key>Store State</key>
                <value>
                  <name>Store State</name>
                </value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                  <name>Stateful Variables Initial Value</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Delete Attributes Expression</key>
              </entry>
              <entry>
                <key>Store State</key>
                <value>Do not store state</value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>ConfigurePrefetch</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
        </processors>
        <processors>
          <id>4bfdfe30-bc0f-3833-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>3185.093615858239</x>
            <y>2466.281475780843</y>
          </position>
          <bundle>
            <artifact>nifi-standard-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>HTTP Status Code</key>
                <value>
                  <name>HTTP Status Code</name>
                </value>
              </entry>
              <entry>
                <key>HTTP Context Map</key>
                <value>
                  <identifiesControllerService>org.apache.nifi.http.HttpContextMap</identifiesControllerService>
                  <name>HTTP Context Map</name>
                </value>
              </entry>
              <entry>
                <key>content-type</key>
                <value>
                  <name>content-type</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>HTTP Status Code</key>
                <value>200</value>
              </entry>
              <entry>
                <key>HTTP Context Map</key>
                <value>5dfa236d-a08f-324e-0000-000000000000</value>
              </entry>
              <entry>
                <key>content-type</key>
                <value>text/plain</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>HandleHttpResponse</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.standard.HandleHttpResponse</type>
        </processors>
        <processors>
          <id>5934e120-1ae7-3a58-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>3181.102899979347</x>
            <y>729.8525141253608</y>
          </position>
          <bundle>
            <artifact>HistorianDeanReporter</artifact>
            <group>default</group>
            <version>unversioned</version>
          </bundle>
          <config>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Cache Entry Identifier</key>
                <value>
                  <name>Cache Entry Identifier</name>
                </value>
              </entry>
              <entry>
                <key>Distributed Cache Service</key>
                <value>
                  <identifiesControllerService>org.apache.nifi.distributed.cache.client.DistributedMapCacheClient</identifiesControllerService>
                  <name>Distributed Cache Service</name>
                </value>
              </entry>
              <entry>
                <key>Put Cache Value In Attribute</key>
                <value>
                  <name>Put Cache Value In Attribute</name>
                </value>
              </entry>
              <entry>
                <key>Max Length To Put In Attribute</key>
                <value>
                  <name>Max Length To Put In Attribute</name>
                </value>
              </entry>
              <entry>
                <key>Character Set</key>
                <value>
                  <name>Character Set</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Cache Entry Identifier</key>
                <value>${requestedTag:toLower()}</value>
              </entry>
              <entry>
                <key>Distributed Cache Service</key>
                <value>77410851-041c-3548-0000-000000000000</value>
              </entry>
              <entry>
                <key>Put Cache Value In Attribute</key>
                <value>tagMetaData</value>
              </entry>
              <entry>
                <key>Max Length To Put In Attribute</key>
                <value>256</value>
              </entry>
              <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>LookupTagAliasFromCache</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>failure</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>not-found</name>
          </relationships>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>com.hortonworks.nifi.processors.BulkFetchDistributedMapCache</type>
        </processors>
        <processors>
          <id>695804bd-f47b-310e-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>2105.375038597236</x>
            <y>2082.1980861278016</y>
          </position>
          <bundle>
            <artifact>nifi-update-attribute-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <annotationData>&lt;criteria&gt;
    &lt;flowFilePolicy&gt;USE_CLONE&lt;/flowFilePolicy&gt;
    &lt;rules&gt;
        &lt;actions&gt;
            &lt;attribute&gt;code&lt;/attribute&gt;
            &lt;id&gt;c31c7d06-bc26-46c4-8973-802736ee4ebd&lt;/id&gt;
            &lt;value&gt;dataDF.show()
print ' '
print 'Python Script Success'
&lt;/value&gt;
        &lt;/actions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${http.request.uri:contains("pytest")}&lt;/expression&gt;
            &lt;id&gt;32ad4e8c-f6cd-4555-8d7b-dd3969116ef5&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;id&gt;0003d021-28f1-4f7f-951b-d8f2494ee508&lt;/id&gt;
        &lt;name&gt;pytest&lt;/name&gt;
    &lt;/rules&gt;
&lt;/criteria&gt;</annotationData>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Delete Attributes Expression</key>
                <value>
                  <name>Delete Attributes Expression</name>
                </value>
              </entry>
              <entry>
                <key>Store State</key>
                <value>
                  <name>Store State</name>
                </value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                  <name>Stateful Variables Initial Value</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Delete Attributes Expression</key>
              </entry>
              <entry>
                <key>Store State</key>
                <value>Do not store state</value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>SelectSparkRFunction</name>
          <relationships>
            <autoTerminate>true</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
        </processors>
        <processors>
          <id>75f57e5d-ad61-3455-0000-000000000000</id>
          <parentGroupId>5d55d9e2-265f-3585-0000-000000000000</parentGroupId>
          <position>
            <x>3179.8945086328213</x>
            <y>529.707800378442</y>
          </position>
          <bundle>
            <artifact>nifi-update-attribute-nar</artifact>
            <group>org.apache.nifi</group>
            <version>1.2.0.3.0.0.0-453</version>
          </bundle>
          <config>
            <annotationData>&lt;criteria&gt;
    &lt;flowFilePolicy&gt;USE_CLONE&lt;/flowFilePolicy&gt;
    &lt;rules&gt;
        &lt;actions&gt;
            &lt;attribute&gt;requestedFunction&lt;/attribute&gt;
            &lt;id&gt;394bbd11-e6fe-447e-a36e-441ec6eeec5d&lt;/id&gt;
            &lt;value&gt;mov_avg&lt;/value&gt;
        &lt;/actions&gt;
        &lt;actions&gt;
            &lt;attribute&gt;function&lt;/attribute&gt;
            &lt;id&gt;58e6b955-9ce7-429a-a26a-5af131f58929&lt;/id&gt;
            &lt;value&gt;sum&lt;/value&gt;
        &lt;/actions&gt;
        &lt;conditions&gt;
            &lt;expression&gt;${http.query.param.function:equals('mov_avg')}&lt;/expression&gt;
            &lt;id&gt;9ec0ba2c-b2ae-42d0-9ec8-cb937cdf0d46&lt;/id&gt;
        &lt;/conditions&gt;
        &lt;id&gt;7f231082-dc1c-431c-b605-293e34dced3b&lt;/id&gt;
        &lt;name&gt;mov_avg&lt;/name&gt;
    &lt;/rules&gt;
&lt;/criteria&gt;</annotationData>
            <bulletinLevel>WARN</bulletinLevel>
            <comments></comments>
            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
            <descriptors>
              <entry>
                <key>Delete Attributes Expression</key>
                <value>
                  <name>Delete Attributes Expression</name>
                </value>
              </entry>
              <entry>
                <key>Store State</key>
                <value>
                  <name>Store State</name>
                </value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                  <name>Stateful Variables Initial Value</name>
                </value>
              </entry>
            </descriptors>
            <executionNode>ALL</executionNode>
            <lossTolerant>false</lossTolerant>
            <penaltyDuration>30 sec</penaltyDuration>
            <properties>
              <entry>
                <key>Delete Attributes Expression</key>
              </entry>
              <entry>
                <key>Store State</key>
                <value>Do not store state</value>
              </entry>
              <entry>
                <key>Stateful Variables Initial Value</key>
              </entry>
            </properties>
            <runDurationMillis>0</runDurationMillis>
            <schedulingPeriod>0 sec</schedulingPeriod>
            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
            <yieldDuration>1 sec</yieldDuration>
          </config>
          <name>UnmaskFunction</name>
          <relationships>
            <autoTerminate>false</autoTerminate>
            <name>success</name>
          </relationships>
          <style></style>
          <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
        </processors>
      </contents>
      <name>historian_api</name>
    </processGroups>
    <processors>
      <id>0898f894-8850-3df7-0000-000000000000</id>
      <parentGroupId>f1d25f9a-0bcf-30a7-0000-000000000000</parentGroupId>
      <position>
        <x>1014.6975278218588</x>
        <y>0.0</y>
      </position>
      <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.2.0.3.0.0.0-453</version>
      </bundle>
      <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
          <entry>
            <key>Base Path</key>
            <value>
              <name>Base Path</name>
            </value>
          </entry>
          <entry>
            <key>Listening Port</key>
            <value>
              <name>Listening Port</name>
            </value>
          </entry>
          <entry>
            <key>Max Data to Receive per Second</key>
            <value>
              <name>Max Data to Receive per Second</name>
            </value>
          </entry>
          <entry>
            <key>SSL Context Service</key>
            <value>
              <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
              <name>SSL Context Service</name>
            </value>
          </entry>
          <entry>
            <key>Authorized DN Pattern</key>
            <value>
              <name>Authorized DN Pattern</name>
            </value>
          </entry>
          <entry>
            <key>Max Unconfirmed Flowfile Time</key>
            <value>
              <name>Max Unconfirmed Flowfile Time</name>
            </value>
          </entry>
          <entry>
            <key>HTTP Headers to receive as Attributes (Regex)</key>
            <value>
              <name>HTTP Headers to receive as Attributes (Regex)</name>
            </value>
          </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
          <entry>
            <key>Base Path</key>
            <value>contentListener</value>
          </entry>
          <entry>
            <key>Listening Port</key>
            <value>8084</value>
          </entry>
          <entry>
            <key>Max Data to Receive per Second</key>
          </entry>
          <entry>
            <key>SSL Context Service</key>
          </entry>
          <entry>
            <key>Authorized DN Pattern</key>
            <value>.*</value>
          </entry>
          <entry>
            <key>Max Unconfirmed Flowfile Time</key>
            <value>60 secs</value>
          </entry>
          <entry>
            <key>HTTP Headers to receive as Attributes (Regex)</key>
          </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
      </config>
      <name>HTTPIngest</name>
      <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
      </relationships>
      <style></style>
      <type>org.apache.nifi.processors.standard.ListenHTTP</type>
    </processors>
  </snippet>
  <timestamp>07/23/2017 19:05:34 UTC</timestamp>
</template>